{"episodes_this_iter": 11, "time_since_restore": 85.29539966583252, "episode_reward_max": -7635.184386699216, "timesteps_since_restore": 60000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 1, "custom_metrics": {}, "training_iteration": 1, "episode_reward_mean": -8194.228524514354, "policy_reward_mean": {}, "timesteps_total": 60000, "episodes_total": 11, "timestamp": 1563888993, "time_this_iter_s": 85.29539966583252, "info": {"update_time_ms": 250.702, "default": {"vf_explained_var": 0.003918778616935015, "kl": 0.00906258262693882, "total_loss": 5853.2734375, "cur_kl_coeff": 0.20000004768371582, "entropy": 1.3731269836425781, "vf_loss": 5853.28076171875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.009159469977021217}, "num_steps_trained": 60000, "sample_time_ms": 62017.448, "num_steps_sampled": 60000, "load_time_ms": 36.432, "grad_time_ms": 22919.434}, "date": "2019-07-23_06-36-33", "episode_reward_min": -9137.315380245449, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 85.29539966583252}
{"episodes_this_iter": 22, "time_since_restore": 167.55248713493347, "episode_reward_max": -5845.268000408279, "timesteps_since_restore": 120000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 2, "custom_metrics": {}, "training_iteration": 2, "episode_reward_mean": -7668.386978414842, "policy_reward_mean": {}, "timesteps_total": 120000, "episodes_total": 33, "timestamp": 1563889076, "time_this_iter_s": 82.25708746910095, "info": {"update_time_ms": 127.917, "default": {"vf_explained_var": 0.0026642451994121075, "kl": 0.017869703471660614, "total_loss": 4504.6962890625, "cur_kl_coeff": 0.10000002384185791, "entropy": 1.3093507289886475, "vf_loss": 4504.70654296875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.012278213165700436}, "num_steps_trained": 120000, "sample_time_ms": 61077.894, "num_steps_sampled": 120000, "load_time_ms": 18.927, "grad_time_ms": 22498.913}, "date": "2019-07-23_06-37-56", "episode_reward_min": -9137.315380245449, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 167.55248713493347}
{"episodes_this_iter": 22, "time_since_restore": 249.72936868667603, "episode_reward_max": -4823.220626284589, "timesteps_since_restore": 180000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 3, "custom_metrics": {}, "training_iteration": 3, "episode_reward_mean": -7214.531854442016, "policy_reward_mean": {}, "timesteps_total": 180000, "episodes_total": 55, "timestamp": 1563889158, "time_this_iter_s": 82.17688155174255, "info": {"update_time_ms": 86.435, "default": {"vf_explained_var": 0.0004271397483535111, "kl": 0.020208336412906647, "total_loss": 3325.096923828125, "cur_kl_coeff": 0.10000002384185791, "entropy": 1.2446290254592896, "vf_loss": 3325.107421875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.012506656348705292}, "num_steps_trained": 180000, "sample_time_ms": 60734.342, "num_steps_sampled": 180000, "load_time_ms": 13.006, "grad_time_ms": 22363.014}, "date": "2019-07-23_06-39-18", "episode_reward_min": -9137.315380245449, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 249.72936868667603}
{"episodes_this_iter": 22, "time_since_restore": 332.6483426094055, "episode_reward_max": -3519.533421025771, "timesteps_since_restore": 240000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 4, "custom_metrics": {}, "training_iteration": 4, "episode_reward_mean": -6627.189833803134, "policy_reward_mean": {}, "timesteps_total": 240000, "episodes_total": 77, "timestamp": 1563889241, "time_this_iter_s": 82.91897392272949, "info": {"update_time_ms": 66.417, "default": {"vf_explained_var": 4.225141310598701e-05, "kl": 0.020777234807610512, "total_loss": 2144.168212890625, "cur_kl_coeff": 0.10000002384185791, "entropy": 1.1688227653503418, "vf_loss": 2144.178466796875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.012338770553469658}, "num_steps_trained": 240000, "sample_time_ms": 60738.633, "num_steps_sampled": 240000, "load_time_ms": 10.055, "grad_time_ms": 22303.479}, "date": "2019-07-23_06-40-41", "episode_reward_min": -9137.315380245449, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 332.6483426094055}
{"episodes_this_iter": 22, "time_since_restore": 415.8595356941223, "episode_reward_max": -2720.1228551866566, "timesteps_since_restore": 300000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 5, "custom_metrics": {}, "training_iteration": 5, "episode_reward_mean": -6051.45867423492, "policy_reward_mean": {}, "timesteps_total": 300000, "episodes_total": 99, "timestamp": 1563889324, "time_this_iter_s": 83.2111930847168, "info": {"update_time_ms": 54.042, "default": {"vf_explained_var": -1.4005818229634315e-06, "kl": 0.024319469928741455, "total_loss": 1466.0357666015625, "cur_kl_coeff": 0.10000002384185791, "entropy": 1.0968799591064453, "vf_loss": 1466.04541015625, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.012103473767638206}, "num_steps_trained": 300000, "sample_time_ms": 60808.54, "num_steps_sampled": 300000, "load_time_ms": 8.278, "grad_time_ms": 22259.555}, "date": "2019-07-23_06-42-04", "episode_reward_min": -9137.315380245449, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 415.8595356941223}
{"episodes_this_iter": 14, "time_since_restore": 498.66191053390503, "episode_reward_max": -1719.8878842288518, "timesteps_since_restore": 360000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 6, "custom_metrics": {}, "training_iteration": 6, "episode_reward_mean": -5305.305220548285, "policy_reward_mean": {}, "timesteps_total": 360000, "episodes_total": 113, "timestamp": 1563889407, "time_this_iter_s": 82.80237483978271, "info": {"update_time_ms": 45.923, "default": {"vf_explained_var": -2.034454337263014e-05, "kl": 0.02521596848964691, "total_loss": 606.1373901367188, "cur_kl_coeff": 0.10000002384185791, "entropy": 0.9913582801818848, "vf_loss": 606.1483764648438, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.013453522697091103}, "num_steps_trained": 360000, "sample_time_ms": 60762.39, "num_steps_sampled": 360000, "load_time_ms": 7.116, "grad_time_ms": 22254.515}, "date": "2019-07-23_06-43-27", "episode_reward_min": -8418.212543774605, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 498.66191053390503}
{"episodes_this_iter": 21, "time_since_restore": 583.2917761802673, "episode_reward_max": -1005.5929211543955, "timesteps_since_restore": 420000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 7, "custom_metrics": {}, "training_iteration": 7, "episode_reward_mean": -4369.94265474189, "policy_reward_mean": {}, "timesteps_total": 420000, "episodes_total": 134, "timestamp": 1563889491, "time_this_iter_s": 84.6298656463623, "info": {"update_time_ms": 40.077, "default": {"vf_explained_var": 1.8919380408988218e-06, "kl": 0.01730852574110031, "total_loss": 1167.4833984375, "cur_kl_coeff": 0.10000002384185791, "entropy": 1.0083848237991333, "vf_loss": 1167.489013671875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.007539893034845591}, "num_steps_trained": 420000, "sample_time_ms": 60966.288, "num_steps_sampled": 420000, "load_time_ms": 6.275, "grad_time_ms": 22275.306}, "date": "2019-07-23_06-44-51", "episode_reward_min": -7870.948006261715, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 583.2917761802673}
{"episodes_this_iter": 22, "time_since_restore": 669.3976335525513, "episode_reward_max": -146.30018777140904, "timesteps_since_restore": 480000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 8, "custom_metrics": {}, "training_iteration": 8, "episode_reward_mean": -3429.5918554030645, "policy_reward_mean": {}, "timesteps_total": 480000, "episodes_total": 156, "timestamp": 1563889578, "time_this_iter_s": 86.10585737228394, "info": {"update_time_ms": 35.663, "default": {"vf_explained_var": 1.308755031459441e-06, "kl": 0.016707584261894226, "total_loss": 532.3641967773438, "cur_kl_coeff": 0.10000002384185791, "entropy": 0.9009712338447571, "vf_loss": 532.3692016601562, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.006689871195703745}, "num_steps_trained": 480000, "sample_time_ms": 61324.633, "num_steps_sampled": 480000, "load_time_ms": 5.648, "grad_time_ms": 22269.812}, "date": "2019-07-23_06-46-18", "episode_reward_min": -6618.085106808922, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 669.3976335525513}
{"episodes_this_iter": 21, "time_since_restore": 755.2807352542877, "episode_reward_max": 90.1541234294257, "timesteps_since_restore": 540000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 9, "custom_metrics": {}, "training_iteration": 9, "episode_reward_mean": -2658.867987632604, "policy_reward_mean": {}, "timesteps_total": 540000, "episodes_total": 177, "timestamp": 1563889663, "time_this_iter_s": 85.88310170173645, "info": {"update_time_ms": 32.156, "default": {"vf_explained_var": 8.893573522072984e-07, "kl": 0.013372422195971012, "total_loss": 477.239990234375, "cur_kl_coeff": 0.10000002384185791, "entropy": 0.8477725982666016, "vf_loss": 477.2438049316406, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.005198887083679438}, "num_steps_trained": 540000, "sample_time_ms": 61571.332, "num_steps_sampled": 540000, "load_time_ms": 5.162, "grad_time_ms": 22273.059}, "date": "2019-07-23_06-47-43", "episode_reward_min": -6626.359774118672, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 755.2807352542877}
{"episodes_this_iter": 22, "time_since_restore": 841.188530921936, "episode_reward_max": 462.88384638686296, "timesteps_since_restore": 600000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 10, "custom_metrics": {}, "training_iteration": 10, "episode_reward_mean": -1952.9002670295583, "policy_reward_mean": {}, "timesteps_total": 600000, "episodes_total": 199, "timestamp": 1563889749, "time_this_iter_s": 85.90779566764832, "info": {"update_time_ms": 29.509, "default": {"vf_explained_var": 0.042349472641944885, "kl": 0.014093855395913124, "total_loss": 237.154541015625, "cur_kl_coeff": 0.10000002384185791, "entropy": 0.7713625431060791, "vf_loss": 237.1593475341797, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.006223376840353012}, "num_steps_trained": 600000, "sample_time_ms": 61798.711, "num_steps_sampled": 600000, "load_time_ms": 4.76, "grad_time_ms": 22247.77}, "date": "2019-07-23_06-49-09", "episode_reward_min": -6626.359774118672, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 841.188530921936}
{"episodes_this_iter": 13, "time_since_restore": 921.2605497837067, "episode_reward_max": 462.88384638686296, "timesteps_since_restore": 660000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 11, "custom_metrics": {}, "training_iteration": 11, "episode_reward_mean": -1711.4262806756697, "policy_reward_mean": {}, "timesteps_total": 660000, "episodes_total": 212, "timestamp": 1563889829, "time_this_iter_s": 80.07201886177063, "info": {"update_time_ms": 4.847, "default": {"vf_explained_var": 0.19909289479255676, "kl": 0.011503537185490131, "total_loss": 173.134521484375, "cur_kl_coeff": 0.10000002384185791, "entropy": 0.7529392242431641, "vf_loss": 173.1387176513672, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.005363763775676489}, "num_steps_trained": 660000, "sample_time_ms": 61396.988, "num_steps_sampled": 660000, "load_time_ms": 1.241, "grad_time_ms": 22158.937}, "date": "2019-07-23_06-50-29", "episode_reward_min": -6626.359774118672, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 921.2605497837067}
{"episodes_this_iter": 22, "time_since_restore": 1007.4951117038727, "episode_reward_max": 922.1427380848615, "timesteps_since_restore": 720000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 12, "custom_metrics": {}, "training_iteration": 12, "episode_reward_mean": -1217.5145200948527, "policy_reward_mean": {}, "timesteps_total": 720000, "episodes_total": 234, "timestamp": 1563889916, "time_this_iter_s": 86.23456192016602, "info": {"update_time_ms": 4.73, "default": {"vf_explained_var": 0.4569357931613922, "kl": 0.012838365510106087, "total_loss": 114.2005844116211, "cur_kl_coeff": 0.10000002384185791, "entropy": 0.6815392971038818, "vf_loss": 114.20523071289062, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0059225657023489475}, "num_steps_trained": 720000, "sample_time_ms": 61791.643, "num_steps_sampled": 720000, "load_time_ms": 1.23, "grad_time_ms": 22162.235}, "date": "2019-07-23_06-51-56", "episode_reward_min": -6626.359774118672, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1007.4951117038727}
{"episodes_this_iter": 22, "time_since_restore": 1094.4760704040527, "episode_reward_max": 1217.443312712812, "timesteps_since_restore": 780000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 13, "custom_metrics": {}, "training_iteration": 13, "episode_reward_mean": -687.6716522970388, "policy_reward_mean": {}, "timesteps_total": 780000, "episodes_total": 256, "timestamp": 1563890003, "time_this_iter_s": 86.98095870018005, "info": {"update_time_ms": 4.793, "default": {"vf_explained_var": 0.6421538591384888, "kl": 0.015395022928714752, "total_loss": 77.3199234008789, "cur_kl_coeff": 0.10000002384185791, "entropy": 0.582012951374054, "vf_loss": 77.32597351074219, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.007598062977194786}, "num_steps_trained": 780000, "sample_time_ms": 62262.891, "num_steps_sampled": 780000, "load_time_ms": 1.244, "grad_time_ms": 22171.234}, "date": "2019-07-23_06-53-23", "episode_reward_min": -6626.359774118672, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1094.4760704040527}
{"episodes_this_iter": 22, "time_since_restore": 1181.7367150783539, "episode_reward_max": 1586.842124739652, "timesteps_since_restore": 840000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 14, "custom_metrics": {}, "training_iteration": 14, "episode_reward_mean": -260.03866229870005, "policy_reward_mean": {}, "timesteps_total": 840000, "episodes_total": 278, "timestamp": 1563890090, "time_this_iter_s": 87.26064467430115, "info": {"update_time_ms": 4.578, "default": {"vf_explained_var": 0.7162595391273499, "kl": 0.013786204159259796, "total_loss": 67.73124694824219, "cur_kl_coeff": 0.10000002384185791, "entropy": 0.526550829410553, "vf_loss": 67.73628234863281, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.006419082172214985}, "num_steps_trained": 840000, "sample_time_ms": 62684.391, "num_steps_sampled": 840000, "load_time_ms": 1.246, "grad_time_ms": 22184.146}, "date": "2019-07-23_06-54-50", "episode_reward_min": -5368.108685052953, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1181.7367150783539}
{"episodes_this_iter": 20, "time_since_restore": 1266.8532254695892, "episode_reward_max": 1655.391860842902, "timesteps_since_restore": 900000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 15, "custom_metrics": {}, "training_iteration": 15, "episode_reward_mean": 28.141188599732924, "policy_reward_mean": {}, "timesteps_total": 900000, "episodes_total": 298, "timestamp": 1563890175, "time_this_iter_s": 85.11651039123535, "info": {"update_time_ms": 4.675, "default": {"vf_explained_var": 0.6612550020217896, "kl": 0.01022069901227951, "total_loss": 130.73529052734375, "cur_kl_coeff": 0.10000002384185791, "entropy": 0.510845422744751, "vf_loss": 130.73880004882812, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.004536536987870932}, "num_steps_trained": 900000, "sample_time_ms": 62866.693, "num_steps_sampled": 900000, "load_time_ms": 1.249, "grad_time_ms": 22192.023}, "date": "2019-07-23_06-56-15", "episode_reward_min": -4074.535544809944, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1266.8532254695892}
{"episodes_this_iter": 14, "time_since_restore": 1350.1248722076416, "episode_reward_max": 1813.2610761300707, "timesteps_since_restore": 960000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 16, "custom_metrics": {}, "training_iteration": 16, "episode_reward_mean": 205.22357198401022, "policy_reward_mean": {}, "timesteps_total": 960000, "episodes_total": 312, "timestamp": 1563890258, "time_this_iter_s": 83.27164673805237, "info": {"update_time_ms": 4.603, "default": {"vf_explained_var": 0.7010942697525024, "kl": 0.008362441323697567, "total_loss": 101.54013061523438, "cur_kl_coeff": 0.10000002384185791, "entropy": 0.4633370339870453, "vf_loss": 101.5434799194336, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.004193353001028299}, "num_steps_trained": 960000, "sample_time_ms": 62918.493, "num_steps_sampled": 960000, "load_time_ms": 1.24, "grad_time_ms": 22187.109}, "date": "2019-07-23_06-57-38", "episode_reward_min": -4074.535544809944, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1350.1248722076416}
{"episodes_this_iter": 22, "time_since_restore": 1436.956953048706, "episode_reward_max": 1813.2610761300707, "timesteps_since_restore": 1020000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 17, "custom_metrics": {}, "training_iteration": 17, "episode_reward_mean": 478.1585146009011, "policy_reward_mean": {}, "timesteps_total": 1020000, "episodes_total": 334, "timestamp": 1563890345, "time_this_iter_s": 86.83208084106445, "info": {"update_time_ms": 4.531, "default": {"vf_explained_var": 0.6951190233230591, "kl": 0.007535484619438648, "total_loss": 149.04510498046875, "cur_kl_coeff": 0.050000011920928955, "entropy": 0.4798024594783783, "vf_loss": 149.0469512939453, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.002228847471997142}, "num_steps_trained": 1020000, "sample_time_ms": 63158.897, "num_steps_sampled": 1020000, "load_time_ms": 1.243, "grad_time_ms": 22166.733}, "date": "2019-07-23_06-59-05", "episode_reward_min": -2414.617798227727, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1436.956953048706}
{"episodes_this_iter": 22, "time_since_restore": 1522.1926097869873, "episode_reward_max": 2006.3213388967479, "timesteps_since_restore": 1080000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 18, "custom_metrics": {}, "training_iteration": 18, "episode_reward_mean": 538.5865057232985, "policy_reward_mean": {}, "timesteps_total": 1080000, "episodes_total": 356, "timestamp": 1563890431, "time_this_iter_s": 85.23565673828125, "info": {"update_time_ms": 4.463, "default": {"vf_explained_var": 0.691711962223053, "kl": 0.007742763496935368, "total_loss": 146.84552001953125, "cur_kl_coeff": 0.025000005960464478, "entropy": 0.4302326738834381, "vf_loss": 146.84815979003906, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0028086884412914515}, "num_steps_trained": 1080000, "sample_time_ms": 63086.225, "num_steps_sampled": 1080000, "load_time_ms": 1.242, "grad_time_ms": 22152.607}, "date": "2019-07-23_07-00-31", "episode_reward_min": -1778.2496952271779, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1522.1926097869873}
{"episodes_this_iter": 22, "time_since_restore": 1608.934970855713, "episode_reward_max": 2058.736580697264, "timesteps_since_restore": 1140000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 19, "custom_metrics": {}, "training_iteration": 19, "episode_reward_mean": 599.9828434169527, "policy_reward_mean": {}, "timesteps_total": 1140000, "episodes_total": 378, "timestamp": 1563890517, "time_this_iter_s": 86.74236106872559, "info": {"update_time_ms": 4.494, "default": {"vf_explained_var": 0.7315512299537659, "kl": 0.006806324236094952, "total_loss": 135.8439178466797, "cur_kl_coeff": 0.012500002980232239, "entropy": 0.4104989767074585, "vf_loss": 135.84619140625, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0023660236038267612}, "num_steps_trained": 1140000, "sample_time_ms": 63194.009, "num_steps_sampled": 1140000, "load_time_ms": 1.234, "grad_time_ms": 22130.637}, "date": "2019-07-23_07-01-57", "episode_reward_min": -1778.2496952271779, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1608.934970855713}
{"episodes_this_iter": 19, "time_since_restore": 1693.0637283325195, "episode_reward_max": 2134.8032666650474, "timesteps_since_restore": 1200000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 20, "custom_metrics": {}, "training_iteration": 20, "episode_reward_mean": 667.0954708385175, "policy_reward_mean": {}, "timesteps_total": 1200000, "episodes_total": 397, "timestamp": 1563890602, "time_this_iter_s": 84.12875747680664, "info": {"update_time_ms": 4.304, "default": {"vf_explained_var": 0.6977684497833252, "kl": 0.010600543580949306, "total_loss": 177.69993591308594, "cur_kl_coeff": 0.006250001490116119, "entropy": 0.29372578859329224, "vf_loss": 177.70335388183594, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0035022085066884756}, "num_steps_trained": 1200000, "sample_time_ms": 62999.165, "num_steps_sampled": 1200000, "load_time_ms": 1.248, "grad_time_ms": 22147.904}, "date": "2019-07-23_07-03-22", "episode_reward_min": -1778.2496952271779, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1693.0637283325195}
{"episodes_this_iter": 14, "time_since_restore": 1773.103056192398, "episode_reward_max": 2239.859730510953, "timesteps_since_restore": 1260000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 21, "custom_metrics": {}, "training_iteration": 21, "episode_reward_mean": 788.4833082619817, "policy_reward_mean": {}, "timesteps_total": 1260000, "episodes_total": 411, "timestamp": 1563890682, "time_this_iter_s": 80.03932785987854, "info": {"update_time_ms": 4.302, "default": {"vf_explained_var": 0.7276515364646912, "kl": 0.007030512671917677, "total_loss": 176.97975158691406, "cur_kl_coeff": 0.006250001490116119, "entropy": 0.28969332575798035, "vf_loss": 176.9815673828125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.001846682163886726}, "num_steps_trained": 1260000, "sample_time_ms": 62988.806, "num_steps_sampled": 1260000, "load_time_ms": 1.241, "grad_time_ms": 22155.0}, "date": "2019-07-23_07-04-42", "episode_reward_min": -1518.3381020783318, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1773.103056192398}
{"episodes_this_iter": 22, "time_since_restore": 1856.827745437622, "episode_reward_max": 2239.859730510953, "timesteps_since_restore": 1320000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 22, "custom_metrics": {}, "training_iteration": 22, "episode_reward_mean": 933.2263662437632, "policy_reward_mean": {}, "timesteps_total": 1320000, "episodes_total": 433, "timestamp": 1563890765, "time_this_iter_s": 83.724689245224, "info": {"update_time_ms": 4.45, "default": {"vf_explained_var": 0.7127255201339722, "kl": 0.008224434219300747, "total_loss": 182.27523803710938, "cur_kl_coeff": 0.0031250007450580597, "entropy": 0.23911689221858978, "vf_loss": 182.2776641845703, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0024422332644462585}, "num_steps_trained": 1320000, "sample_time_ms": 62740.752, "num_steps_sampled": 1320000, "load_time_ms": 1.231, "grad_time_ms": 22151.795}, "date": "2019-07-23_07-06-05", "episode_reward_min": -1518.3381020783318, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1856.827745437622}
{"episodes_this_iter": 22, "time_since_restore": 1940.4591312408447, "episode_reward_max": 2331.80797935065, "timesteps_since_restore": 1380000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 23, "custom_metrics": {}, "training_iteration": 23, "episode_reward_mean": 1081.7284550108552, "policy_reward_mean": {}, "timesteps_total": 1380000, "episodes_total": 455, "timestamp": 1563890849, "time_this_iter_s": 83.63138580322266, "info": {"update_time_ms": 4.473, "default": {"vf_explained_var": 0.7330846786499023, "kl": 0.00717219989746809, "total_loss": 182.69862365722656, "cur_kl_coeff": 0.0015625003725290298, "entropy": 0.22402405738830566, "vf_loss": 182.70071411132812, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.002143372781574726}, "num_steps_trained": 1380000, "sample_time_ms": 62398.553, "num_steps_sampled": 1380000, "load_time_ms": 1.213, "grad_time_ms": 22159.018}, "date": "2019-07-23_07-07-29", "episode_reward_min": -1295.9844778564857, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 1940.4591312408447}
{"episodes_this_iter": 22, "time_since_restore": 2024.606362104416, "episode_reward_max": 2475.402629196261, "timesteps_since_restore": 1440000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 24, "custom_metrics": {}, "training_iteration": 24, "episode_reward_mean": 1176.3129617454572, "policy_reward_mean": {}, "timesteps_total": 1440000, "episodes_total": 477, "timestamp": 1563890933, "time_this_iter_s": 84.14723086357117, "info": {"update_time_ms": 4.709, "default": {"vf_explained_var": 0.7490394711494446, "kl": 0.006924937944859266, "total_loss": 218.7002410888672, "cur_kl_coeff": 0.0007812501862645149, "entropy": 0.2101122885942459, "vf_loss": 218.70225524902344, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.002032254356890917}, "num_steps_trained": 1440000, "sample_time_ms": 62088.2, "num_steps_sampled": 1440000, "load_time_ms": 1.209, "grad_time_ms": 22157.641}, "date": "2019-07-23_07-08-53", "episode_reward_min": -1295.9844778564857, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2024.606362104416}
{"episodes_this_iter": 22, "time_since_restore": 2112.0108466148376, "episode_reward_max": 2475.402629196261, "timesteps_since_restore": 1500000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 25, "custom_metrics": {}, "training_iteration": 25, "episode_reward_mean": 1277.7165850015583, "policy_reward_mean": {}, "timesteps_total": 1500000, "episodes_total": 499, "timestamp": 1563891021, "time_this_iter_s": 87.40448451042175, "info": {"update_time_ms": 4.672, "default": {"vf_explained_var": 0.7442176938056946, "kl": 0.007826200686395168, "total_loss": 292.36590576171875, "cur_kl_coeff": 0.00039062509313225746, "entropy": 0.10818419605493546, "vf_loss": 292.3671569824219, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0012415084056556225}, "num_steps_trained": 1500000, "sample_time_ms": 62316.734, "num_steps_sampled": 1500000, "load_time_ms": 1.213, "grad_time_ms": 22157.931}, "date": "2019-07-23_07-10-21", "episode_reward_min": -1009.9175522541042, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2112.0108466148376}
{"episodes_this_iter": 14, "time_since_restore": 2193.4437141418457, "episode_reward_max": 2539.093136636428, "timesteps_since_restore": 1560000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 26, "custom_metrics": {}, "training_iteration": 26, "episode_reward_mean": 1333.1394221729488, "policy_reward_mean": {}, "timesteps_total": 1560000, "episodes_total": 513, "timestamp": 1563891102, "time_this_iter_s": 81.43286752700806, "info": {"update_time_ms": 4.724, "default": {"vf_explained_var": 0.6860390305519104, "kl": 0.005855776369571686, "total_loss": 245.940673828125, "cur_kl_coeff": 0.00019531254656612873, "entropy": 0.10334540158510208, "vf_loss": 245.94247436523438, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0018119212472811341}, "num_steps_trained": 1560000, "sample_time_ms": 62145.429, "num_steps_sampled": 1560000, "load_time_ms": 1.208, "grad_time_ms": 22145.468}, "date": "2019-07-23_07-11-42", "episode_reward_min": -630.1618373471431, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2193.4437141418457}
{"episodes_this_iter": 20, "time_since_restore": 2279.2164540290833, "episode_reward_max": 2539.093136636428, "timesteps_since_restore": 1620000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 27, "custom_metrics": {}, "training_iteration": 27, "episode_reward_mean": 1356.7032899471042, "policy_reward_mean": {}, "timesteps_total": 1620000, "episodes_total": 533, "timestamp": 1563891188, "time_this_iter_s": 85.77273988723755, "info": {"update_time_ms": 4.654, "default": {"vf_explained_var": 0.7435241341590881, "kl": 0.006037586834281683, "total_loss": 232.14987182617188, "cur_kl_coeff": 9.765627328306437e-05, "entropy": 0.11658415198326111, "vf_loss": 232.15103149414062, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0011668936349451542}, "num_steps_trained": 1620000, "sample_time_ms": 62043.76, "num_steps_sampled": 1620000, "load_time_ms": 1.206, "grad_time_ms": 22141.379}, "date": "2019-07-23_07-13-08", "episode_reward_min": -735.2622572301466, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2279.2164540290833}
{"episodes_this_iter": 22, "time_since_restore": 2364.706241130829, "episode_reward_max": 2539.093136636428, "timesteps_since_restore": 1680000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 28, "custom_metrics": {}, "training_iteration": 28, "episode_reward_mean": 1383.1039186260293, "policy_reward_mean": {}, "timesteps_total": 1680000, "episodes_total": 555, "timestamp": 1563891273, "time_this_iter_s": 85.4897871017456, "info": {"update_time_ms": 4.613, "default": {"vf_explained_var": 0.7752197980880737, "kl": 0.005086648277938366, "total_loss": 195.98512268066406, "cur_kl_coeff": 4.882813664153218e-05, "entropy": 0.17686578631401062, "vf_loss": 195.9860076904297, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0008900384418666363}, "num_steps_trained": 1680000, "sample_time_ms": 62069.971, "num_steps_sampled": 1680000, "load_time_ms": 1.201, "grad_time_ms": 22140.535}, "date": "2019-07-23_07-14-33", "episode_reward_min": -821.257257623697, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2364.706241130829}
{"episodes_this_iter": 22, "time_since_restore": 2451.2604863643646, "episode_reward_max": 2610.1911351823483, "timesteps_since_restore": 1740000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 29, "custom_metrics": {}, "training_iteration": 29, "episode_reward_mean": 1428.2733103504197, "policy_reward_mean": {}, "timesteps_total": 1740000, "episodes_total": 577, "timestamp": 1563891360, "time_this_iter_s": 86.55424523353577, "info": {"update_time_ms": 4.59, "default": {"vf_explained_var": 0.7230393886566162, "kl": 0.004513261374086142, "total_loss": 262.87042236328125, "cur_kl_coeff": 2.441406832076609e-05, "entropy": 0.05870217829942703, "vf_loss": 262.8714599609375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.001046404941007495}, "num_steps_trained": 1740000, "sample_time_ms": 62047.43, "num_steps_sampled": 1740000, "load_time_ms": 1.21, "grad_time_ms": 22144.206}, "date": "2019-07-23_07-16-00", "episode_reward_min": -821.257257623697, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2451.2604863643646}
{"episodes_this_iter": 21, "time_since_restore": 2537.897916316986, "episode_reward_max": 2703.7146240282614, "timesteps_since_restore": 1800000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 30, "custom_metrics": {}, "training_iteration": 30, "episode_reward_mean": 1371.3842875886935, "policy_reward_mean": {}, "timesteps_total": 1800000, "episodes_total": 598, "timestamp": 1563891447, "time_this_iter_s": 86.63742995262146, "info": {"update_time_ms": 4.816, "default": {"vf_explained_var": 0.7836939692497253, "kl": 0.007757964078336954, "total_loss": 247.48951721191406, "cur_kl_coeff": 1.2207034160383046e-05, "entropy": 0.08949779719114304, "vf_loss": 247.49114990234375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0016403465997427702}, "num_steps_trained": 1800000, "sample_time_ms": 62288.025, "num_steps_sampled": 1800000, "load_time_ms": 1.197, "grad_time_ms": 22153.936}, "date": "2019-07-23_07-17-27", "episode_reward_min": -821.257257623697, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2537.897916316986}
{"episodes_this_iter": 16, "time_since_restore": 2621.9172039031982, "episode_reward_max": 2703.7146240282614, "timesteps_since_restore": 1860000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 31, "custom_metrics": {}, "training_iteration": 31, "episode_reward_mean": 1351.9935086130813, "policy_reward_mean": {}, "timesteps_total": 1860000, "episodes_total": 614, "timestamp": 1563891531, "time_this_iter_s": 84.01928758621216, "info": {"update_time_ms": 4.815, "default": {"vf_explained_var": 0.7511886358261108, "kl": 0.0031430828385055065, "total_loss": 257.2248840332031, "cur_kl_coeff": 6.103517080191523e-06, "entropy": 0.030090119689702988, "vf_loss": 257.2255859375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0006811188068240881}, "num_steps_trained": 1860000, "sample_time_ms": 62678.229, "num_steps_sampled": 1860000, "load_time_ms": 1.203, "grad_time_ms": 22161.704}, "date": "2019-07-23_07-18-51", "episode_reward_min": -821.257257623697, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2621.9172039031982}
{"episodes_this_iter": 19, "time_since_restore": 2707.5047137737274, "episode_reward_max": 2703.7146240282614, "timesteps_since_restore": 1920000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 32, "custom_metrics": {}, "training_iteration": 32, "episode_reward_mean": 1417.301220479033, "policy_reward_mean": {}, "timesteps_total": 1920000, "episodes_total": 633, "timestamp": 1563891616, "time_this_iter_s": 85.58750987052917, "info": {"update_time_ms": 4.639, "default": {"vf_explained_var": 0.6314871907234192, "kl": 0.004683814011514187, "total_loss": 242.63417053222656, "cur_kl_coeff": 3.0517585400957614e-06, "entropy": -0.05035886913537979, "vf_loss": 242.63507080078125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.000900712504517287}, "num_steps_trained": 1920000, "sample_time_ms": 62855.352, "num_steps_sampled": 1920000, "load_time_ms": 1.204, "grad_time_ms": 22170.899}, "date": "2019-07-23_07-20-16", "episode_reward_min": -821.257257623697, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2707.5047137737274}
{"episodes_this_iter": 22, "time_since_restore": 2793.9091186523438, "episode_reward_max": 2703.7146240282614, "timesteps_since_restore": 1980000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 33, "custom_metrics": {}, "training_iteration": 33, "episode_reward_mean": 1540.6169914312857, "policy_reward_mean": {}, "timesteps_total": 1980000, "episodes_total": 655, "timestamp": 1563891703, "time_this_iter_s": 86.40440487861633, "info": {"update_time_ms": 4.586, "default": {"vf_explained_var": 0.5555340647697449, "kl": 0.004018434789031744, "total_loss": 288.0337829589844, "cur_kl_coeff": 1.5258792700478807e-06, "entropy": -0.10434592515230179, "vf_loss": 288.0351257324219, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0013137896312400699}, "num_steps_trained": 1980000, "sample_time_ms": 63138.401, "num_steps_sampled": 1980000, "load_time_ms": 1.209, "grad_time_ms": 22165.289}, "date": "2019-07-23_07-21-43", "episode_reward_min": -804.2858301085843, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2793.9091186523438}
{"episodes_this_iter": 22, "time_since_restore": 2879.8072550296783, "episode_reward_max": 2765.0993281847022, "timesteps_since_restore": 2040000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 34, "custom_metrics": {}, "training_iteration": 34, "episode_reward_mean": 1521.1465181254835, "policy_reward_mean": {}, "timesteps_total": 2040000, "episodes_total": 677, "timestamp": 1563891789, "time_this_iter_s": 85.8981363773346, "info": {"update_time_ms": 4.345, "default": {"vf_explained_var": 0.7284046411514282, "kl": 0.012284706346690655, "total_loss": 252.8489990234375, "cur_kl_coeff": 7.629396350239404e-07, "entropy": -0.019906645640730858, "vf_loss": 252.85125732421875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0022773786913603544}, "num_steps_trained": 2040000, "sample_time_ms": 63319.748, "num_steps_sampled": 2040000, "load_time_ms": 1.21, "grad_time_ms": 22159.327}, "date": "2019-07-23_07-23-09", "episode_reward_min": -567.580450313382, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2879.8072550296783}
{"episodes_this_iter": 22, "time_since_restore": 2966.529604434967, "episode_reward_max": 2765.0993281847022, "timesteps_since_restore": 2100000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 35, "custom_metrics": {}, "training_iteration": 35, "episode_reward_mean": 1662.8525260796469, "policy_reward_mean": {}, "timesteps_total": 2100000, "episodes_total": 699, "timestamp": 1563891875, "time_this_iter_s": 86.7223494052887, "info": {"update_time_ms": 4.199, "default": {"vf_explained_var": 0.7531149387359619, "kl": 0.002194295870140195, "total_loss": 296.336669921875, "cur_kl_coeff": 7.629396350239404e-07, "entropy": -0.15045218169689178, "vf_loss": 296.3373718261719, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0007281965808942914}, "num_steps_trained": 2100000, "sample_time_ms": 63254.948, "num_steps_sampled": 2100000, "load_time_ms": 1.202, "grad_time_ms": 22156.047}, "date": "2019-07-23_07-24-35", "episode_reward_min": -556.4857459134988, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 2966.529604434967}
{"episodes_this_iter": 14, "time_since_restore": 3047.1721699237823, "episode_reward_max": 2765.0993281847022, "timesteps_since_restore": 2160000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 36, "custom_metrics": {}, "training_iteration": 36, "episode_reward_mean": 1671.646428360853, "policy_reward_mean": {}, "timesteps_total": 2160000, "episodes_total": 713, "timestamp": 1563891956, "time_this_iter_s": 80.64256548881531, "info": {"update_time_ms": 4.138, "default": {"vf_explained_var": 0.6082744002342224, "kl": 0.003936541732400656, "total_loss": 261.2189636230469, "cur_kl_coeff": 3.814698175119702e-07, "entropy": -0.11355988681316376, "vf_loss": 261.2200927734375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0011223390465602279}, "num_steps_trained": 2160000, "sample_time_ms": 63167.289, "num_steps_sampled": 2160000, "load_time_ms": 1.212, "grad_time_ms": 22164.654}, "date": "2019-07-23_07-25-56", "episode_reward_min": -556.4857459134988, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3047.1721699237823}
{"episodes_this_iter": 21, "time_since_restore": 3133.113813638687, "episode_reward_max": 2765.0993281847022, "timesteps_since_restore": 2220000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 37, "custom_metrics": {}, "training_iteration": 37, "episode_reward_mean": 1673.9221227726996, "policy_reward_mean": {}, "timesteps_total": 2220000, "episodes_total": 734, "timestamp": 1563892042, "time_this_iter_s": 85.94164371490479, "info": {"update_time_ms": 4.187, "default": {"vf_explained_var": 0.6328616142272949, "kl": 0.00275214109569788, "total_loss": 252.2170867919922, "cur_kl_coeff": 1.907349087559851e-07, "entropy": -0.12243928015232086, "vf_loss": 252.2173614501953, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0002651414251886308}, "num_steps_trained": 2220000, "sample_time_ms": 63188.352, "num_steps_sampled": 2220000, "load_time_ms": 1.208, "grad_time_ms": 22160.332}, "date": "2019-07-23_07-27-22", "episode_reward_min": -525.2655183442316, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3133.113813638687}
{"episodes_this_iter": 22, "time_since_restore": 3220.0962357521057, "episode_reward_max": 2765.0993281847022, "timesteps_since_restore": 2280000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 38, "custom_metrics": {}, "training_iteration": 38, "episode_reward_mean": 1719.8284203274318, "policy_reward_mean": {}, "timesteps_total": 2280000, "episodes_total": 756, "timestamp": 1563892129, "time_this_iter_s": 86.98242211341858, "info": {"update_time_ms": 4.166, "default": {"vf_explained_var": 0.570983350276947, "kl": 0.002549354685470462, "total_loss": 330.2748107910156, "cur_kl_coeff": 9.536745437799254e-08, "entropy": -0.2643941044807434, "vf_loss": 330.2753601074219, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0005617975839413702}, "num_steps_trained": 2280000, "sample_time_ms": 63334.002, "num_steps_sampled": 2280000, "load_time_ms": 1.209, "grad_time_ms": 22163.978}, "date": "2019-07-23_07-28-49", "episode_reward_min": -525.2655183442316, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3220.0962357521057}
{"episodes_this_iter": 20, "time_since_restore": 3303.3311097621918, "episode_reward_max": 2765.0993281847022, "timesteps_since_restore": 2340000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 39, "custom_metrics": {}, "training_iteration": 39, "episode_reward_mean": 1814.3501672897653, "policy_reward_mean": {}, "timesteps_total": 2340000, "episodes_total": 776, "timestamp": 1563892212, "time_this_iter_s": 83.23487401008606, "info": {"update_time_ms": 4.102, "default": {"vf_explained_var": 0.5815086960792542, "kl": 0.002433846704661846, "total_loss": 309.3582763671875, "cur_kl_coeff": 4.768372718899627e-08, "entropy": -0.20873422920703888, "vf_loss": 309.3587646484375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0005024971906095743}, "num_steps_trained": 2340000, "sample_time_ms": 62996.605, "num_steps_sampled": 2340000, "load_time_ms": 1.203, "grad_time_ms": 22169.546}, "date": "2019-07-23_07-30-12", "episode_reward_min": -122.12178201716979, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3303.3311097621918}
{"episodes_this_iter": 22, "time_since_restore": 3387.887584924698, "episode_reward_max": 2663.369567263869, "timesteps_since_restore": 2400000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 40, "custom_metrics": {}, "training_iteration": 40, "episode_reward_mean": 1726.932923821225, "policy_reward_mean": {}, "timesteps_total": 2400000, "episodes_total": 798, "timestamp": 1563892297, "time_this_iter_s": 84.5564751625061, "info": {"update_time_ms": 3.803, "default": {"vf_explained_var": 0.7360014915466309, "kl": 0.007274904754012823, "total_loss": 229.11854553222656, "cur_kl_coeff": 2.3841863594498136e-08, "entropy": -0.08264710009098053, "vf_loss": 229.11981201171875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.001258206320926547}, "num_steps_trained": 2400000, "sample_time_ms": 62803.833, "num_steps_sampled": 2400000, "load_time_ms": 1.207, "grad_time_ms": 22154.507}, "date": "2019-07-23_07-31-37", "episode_reward_min": 47.30529194945113, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3387.887584924698}
{"episodes_this_iter": 15, "time_since_restore": 3471.7742581367493, "episode_reward_max": 2663.369567263869, "timesteps_since_restore": 2460000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 41, "custom_metrics": {}, "training_iteration": 41, "episode_reward_mean": 1743.4469290856732, "policy_reward_mean": {}, "timesteps_total": 2460000, "episodes_total": 813, "timestamp": 1563892381, "time_this_iter_s": 83.88667321205139, "info": {"update_time_ms": 3.847, "default": {"vf_explained_var": 0.6870607733726501, "kl": 0.005071357358247042, "total_loss": 316.4814453125, "cur_kl_coeff": 1.1920931797249068e-08, "entropy": -0.25781071186065674, "vf_loss": 316.4819641113281, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0004898824263364077}, "num_steps_trained": 2460000, "sample_time_ms": 62786.386, "num_steps_sampled": 2460000, "load_time_ms": 1.213, "grad_time_ms": 22158.356}, "date": "2019-07-23_07-33-01", "episode_reward_min": 5.626018234706317, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3471.7742581367493}
{"episodes_this_iter": 22, "time_since_restore": 3557.61052942276, "episode_reward_max": 2663.369567263869, "timesteps_since_restore": 2520000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 42, "custom_metrics": {}, "training_iteration": 42, "episode_reward_mean": 1741.8720350403723, "policy_reward_mean": {}, "timesteps_total": 2520000, "episodes_total": 835, "timestamp": 1563892467, "time_this_iter_s": 85.83627128601074, "info": {"update_time_ms": 4.136, "default": {"vf_explained_var": 0.6827442049980164, "kl": 0.002572788158431649, "total_loss": 226.93508911132812, "cur_kl_coeff": 5.960465898624534e-09, "entropy": -0.15653802454471588, "vf_loss": 226.93585205078125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0007402356714010239}, "num_steps_trained": 2520000, "sample_time_ms": 62804.907, "num_steps_sampled": 2520000, "load_time_ms": 1.207, "grad_time_ms": 22164.519}, "date": "2019-07-23_07-34-27", "episode_reward_min": 5.626018234706317, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3557.61052942276}
{"episodes_this_iter": 22, "time_since_restore": 3644.1349816322327, "episode_reward_max": 2663.369567263869, "timesteps_since_restore": 2580000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 43, "custom_metrics": {}, "training_iteration": 43, "episode_reward_mean": 1699.0834532816616, "policy_reward_mean": {}, "timesteps_total": 2580000, "episodes_total": 857, "timestamp": 1563892553, "time_this_iter_s": 86.52445220947266, "info": {"update_time_ms": 4.294, "default": {"vf_explained_var": 0.33631300926208496, "kl": 0.0034860284067690372, "total_loss": 292.5885009765625, "cur_kl_coeff": 2.980232949312267e-09, "entropy": -0.3058551549911499, "vf_loss": 292.58892822265625, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0004437491879798472}, "num_steps_trained": 2580000, "sample_time_ms": 62815.293, "num_steps_sampled": 2580000, "load_time_ms": 1.207, "grad_time_ms": 22165.826}, "date": "2019-07-23_07-35-53", "episode_reward_min": 5.626018234706317, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3644.1349816322327}
{"episodes_this_iter": 19, "time_since_restore": 3730.2538316249847, "episode_reward_max": 2584.710899459701, "timesteps_since_restore": 2640000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 44, "custom_metrics": {}, "training_iteration": 44, "episode_reward_mean": 1716.6424792815442, "policy_reward_mean": {}, "timesteps_total": 2640000, "episodes_total": 876, "timestamp": 1563892639, "time_this_iter_s": 86.11884999275208, "info": {"update_time_ms": 4.322, "default": {"vf_explained_var": 0.5946833491325378, "kl": 0.005093827378004789, "total_loss": 312.28472900390625, "cur_kl_coeff": 1.4901164746561335e-09, "entropy": -0.3297741115093231, "vf_loss": 312.28570556640625, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.000985564081929624}, "num_steps_trained": 2640000, "sample_time_ms": 62842.665, "num_steps_sampled": 2640000, "load_time_ms": 1.204, "grad_time_ms": 22160.596}, "date": "2019-07-23_07-37-19", "episode_reward_min": 5.626018234706317, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3730.2538316249847}
{"episodes_this_iter": 21, "time_since_restore": 3815.6788816452026, "episode_reward_max": 2649.540189480999, "timesteps_since_restore": 2700000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 45, "custom_metrics": {}, "training_iteration": 45, "episode_reward_mean": 1844.1910198011249, "policy_reward_mean": {}, "timesteps_total": 2700000, "episodes_total": 897, "timestamp": 1563892725, "time_this_iter_s": 85.4250500202179, "info": {"update_time_ms": 4.457, "default": {"vf_explained_var": 0.6455792784690857, "kl": 0.004135839641094208, "total_loss": 339.8506164550781, "cur_kl_coeff": 7.450582373280668e-10, "entropy": -0.34814682602882385, "vf_loss": 339.85101318359375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0004199198156129569}, "num_steps_trained": 2700000, "sample_time_ms": 62715.283, "num_steps_sampled": 2700000, "load_time_ms": 1.218, "grad_time_ms": 22158.149}, "date": "2019-07-23_07-38-45", "episode_reward_min": 5.626018234706317, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3815.6788816452026}
{"episodes_this_iter": 15, "time_since_restore": 3896.3009769916534, "episode_reward_max": 2649.540189480999, "timesteps_since_restore": 2760000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 46, "custom_metrics": {}, "training_iteration": 46, "episode_reward_mean": 1869.0080288990257, "policy_reward_mean": {}, "timesteps_total": 2760000, "episodes_total": 912, "timestamp": 1563892805, "time_this_iter_s": 80.6220953464508, "info": {"update_time_ms": 4.417, "default": {"vf_explained_var": 0.2648850381374359, "kl": 0.0034181640949100256, "total_loss": 303.0817565917969, "cur_kl_coeff": 3.725291186640334e-10, "entropy": -0.38418814539909363, "vf_loss": 303.0830078125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.001226035412400961}, "num_steps_trained": 2760000, "sample_time_ms": 62714.268, "num_steps_sampled": 2760000, "load_time_ms": 1.211, "grad_time_ms": 22157.098}, "date": "2019-07-23_07-40-05", "episode_reward_min": 117.81800045080043, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3896.3009769916534}
{"episodes_this_iter": 22, "time_since_restore": 3980.1063194274902, "episode_reward_max": 2649.540189480999, "timesteps_since_restore": 2820000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 47, "custom_metrics": {}, "training_iteration": 47, "episode_reward_mean": 1926.3120460237803, "policy_reward_mean": {}, "timesteps_total": 2820000, "episodes_total": 934, "timestamp": 1563892889, "time_this_iter_s": 83.80534243583679, "info": {"update_time_ms": 4.384, "default": {"vf_explained_var": 0.48529496788978577, "kl": 0.006042646709829569, "total_loss": 296.7638854980469, "cur_kl_coeff": 1.862645593320167e-10, "entropy": -0.3593502938747406, "vf_loss": 296.76495361328125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0010891014244407415}, "num_steps_trained": 2820000, "sample_time_ms": 62497.833, "num_steps_sampled": 2820000, "load_time_ms": 1.209, "grad_time_ms": 22159.787}, "date": "2019-07-23_07-41-29", "episode_reward_min": 117.81800045080043, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 3980.1063194274902}
{"episodes_this_iter": 22, "time_since_restore": 4064.2047171592712, "episode_reward_max": 2692.2728316524594, "timesteps_since_restore": 2880000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 48, "custom_metrics": {}, "training_iteration": 48, "episode_reward_mean": 1938.876826133096, "policy_reward_mean": {}, "timesteps_total": 2880000, "episodes_total": 956, "timestamp": 1563892973, "time_this_iter_s": 84.098397731781, "info": {"update_time_ms": 4.538, "default": {"vf_explained_var": 0.5033735632896423, "kl": 0.0038564768619835377, "total_loss": 314.0793151855469, "cur_kl_coeff": 9.313227966600834e-11, "entropy": -0.36385637521743774, "vf_loss": 314.0798645019531, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0005203266628086567}, "num_steps_trained": 2880000, "sample_time_ms": 62200.346, "num_steps_sampled": 2880000, "load_time_ms": 1.205, "grad_time_ms": 22168.508}, "date": "2019-07-23_07-42-53", "episode_reward_min": 117.81800045080043, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4064.2047171592712}
{"episodes_this_iter": 21, "time_since_restore": 4150.6405329704285, "episode_reward_max": 2836.0611359566724, "timesteps_since_restore": 2940000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 49, "custom_metrics": {}, "training_iteration": 49, "episode_reward_mean": 1946.8822540974757, "policy_reward_mean": {}, "timesteps_total": 2940000, "episodes_total": 977, "timestamp": 1563893060, "time_this_iter_s": 86.43581581115723, "info": {"update_time_ms": 4.593, "default": {"vf_explained_var": 0.44078516960144043, "kl": 0.002268837997689843, "total_loss": 312.14263916015625, "cur_kl_coeff": 4.656613983300417e-11, "entropy": -0.3801216781139374, "vf_loss": 312.14300537109375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0003759988467209041}, "num_steps_trained": 2940000, "sample_time_ms": 62516.725, "num_steps_sampled": 2940000, "load_time_ms": 1.205, "grad_time_ms": 22172.033}, "date": "2019-07-23_07-44-20", "episode_reward_min": 117.81800045080043, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4150.6405329704285}
{"episodes_this_iter": 20, "time_since_restore": 4236.841987848282, "episode_reward_max": 2936.975733720153, "timesteps_since_restore": 3000000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 50, "custom_metrics": {}, "training_iteration": 50, "episode_reward_mean": 1937.8121311535515, "policy_reward_mean": {}, "timesteps_total": 3000000, "episodes_total": 997, "timestamp": 1563893146, "time_this_iter_s": 86.2014548778534, "info": {"update_time_ms": 4.757, "default": {"vf_explained_var": 0.4955666959285736, "kl": 0.0032445264514535666, "total_loss": 379.27642822265625, "cur_kl_coeff": 2.3283069916502086e-11, "entropy": -0.40577489137649536, "vf_loss": 379.2766418457031, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00017236816347576678}, "num_steps_trained": 3000000, "sample_time_ms": 62678.757, "num_steps_sampled": 3000000, "load_time_ms": 1.197, "grad_time_ms": 22174.614}, "date": "2019-07-23_07-45-46", "episode_reward_min": 131.24168252242663, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4236.841987848282}
{"episodes_this_iter": 16, "time_since_restore": 4319.998637199402, "episode_reward_max": 2936.975733720153, "timesteps_since_restore": 3060000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 51, "custom_metrics": {}, "training_iteration": 51, "episode_reward_mean": 1964.072423147691, "policy_reward_mean": {}, "timesteps_total": 3060000, "episodes_total": 1013, "timestamp": 1563893229, "time_this_iter_s": 83.15664935112, "info": {"update_time_ms": 4.722, "default": {"vf_explained_var": 0.23103591799736023, "kl": 0.004273262340575457, "total_loss": 319.5400390625, "cur_kl_coeff": 1.1641534958251043e-11, "entropy": -0.42301273345947266, "vf_loss": 319.54052734375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0004990025772713125}, "num_steps_trained": 3060000, "sample_time_ms": 62614.288, "num_steps_sampled": 3060000, "load_time_ms": 1.192, "grad_time_ms": 22166.321}, "date": "2019-07-23_07-47-09", "episode_reward_min": 131.24168252242663, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4319.998637199402}
{"episodes_this_iter": 22, "time_since_restore": 4406.246671199799, "episode_reward_max": 2936.975733720153, "timesteps_since_restore": 3120000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 52, "custom_metrics": {}, "training_iteration": 52, "episode_reward_mean": 1977.1227820636225, "policy_reward_mean": {}, "timesteps_total": 3120000, "episodes_total": 1035, "timestamp": 1563893315, "time_this_iter_s": 86.24803400039673, "info": {"update_time_ms": 4.799, "default": {"vf_explained_var": 0.5091944932937622, "kl": 0.0027790807653218508, "total_loss": 317.73126220703125, "cur_kl_coeff": 5.8207674791255215e-12, "entropy": -0.3969070017337799, "vf_loss": 317.73187255859375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0005796122713945806}, "num_steps_trained": 3120000, "sample_time_ms": 62668.041, "num_steps_sampled": 3120000, "load_time_ms": 1.205, "grad_time_ms": 22153.517}, "date": "2019-07-23_07-48-35", "episode_reward_min": 131.24168252242663, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4406.246671199799}
{"episodes_this_iter": 21, "time_since_restore": 4492.965218067169, "episode_reward_max": 2936.975733720153, "timesteps_since_restore": 3180000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 53, "custom_metrics": {}, "training_iteration": 53, "episode_reward_mean": 2010.0334265728698, "policy_reward_mean": {}, "timesteps_total": 3180000, "episodes_total": 1056, "timestamp": 1563893402, "time_this_iter_s": 86.7185468673706, "info": {"update_time_ms": 4.622, "default": {"vf_explained_var": 0.03190571069717407, "kl": 0.0034546826500445604, "total_loss": 356.2183532714844, "cur_kl_coeff": 2.9103837395627608e-12, "entropy": -0.49986326694488525, "vf_loss": 356.2188720703125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0005125821335241199}, "num_steps_trained": 3180000, "sample_time_ms": 62701.843, "num_steps_sampled": 3180000, "load_time_ms": 1.205, "grad_time_ms": 22139.081}, "date": "2019-07-23_07-50-02", "episode_reward_min": 215.97773698051296, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4492.965218067169}
{"episodes_this_iter": 21, "time_since_restore": 4579.528218269348, "episode_reward_max": 2936.975733720153, "timesteps_since_restore": 3240000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 54, "custom_metrics": {}, "training_iteration": 54, "episode_reward_mean": 2043.7785806160432, "policy_reward_mean": {}, "timesteps_total": 3240000, "episodes_total": 1077, "timestamp": 1563893489, "time_this_iter_s": 86.56300020217896, "info": {"update_time_ms": 4.548, "default": {"vf_explained_var": 0.3179313540458679, "kl": 0.0028804780449718237, "total_loss": 349.93389892578125, "cur_kl_coeff": 1.4551918697813804e-12, "entropy": -0.4726974070072174, "vf_loss": 349.9341735839844, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00023768447863403708}, "num_steps_trained": 3240000, "sample_time_ms": 62749.469, "num_steps_sampled": 3240000, "load_time_ms": 1.214, "grad_time_ms": 22135.85}, "date": "2019-07-23_07-51-29", "episode_reward_min": 215.97773698051296, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4579.528218269348}
{"episodes_this_iter": 20, "time_since_restore": 4665.045571804047, "episode_reward_max": 2856.6470203575623, "timesteps_since_restore": 3300000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 55, "custom_metrics": {}, "training_iteration": 55, "episode_reward_mean": 2032.2829737544341, "policy_reward_mean": {}, "timesteps_total": 3300000, "episodes_total": 1097, "timestamp": 1563893574, "time_this_iter_s": 85.51735353469849, "info": {"update_time_ms": 4.667, "default": {"vf_explained_var": 0.1556212604045868, "kl": 0.005246204789727926, "total_loss": 312.4535827636719, "cur_kl_coeff": 7.275959348906902e-13, "entropy": -0.3998308777809143, "vf_loss": 312.4541931152344, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.000627380155492574}, "num_steps_trained": 3300000, "sample_time_ms": 62752.813, "num_steps_sampled": 3300000, "load_time_ms": 1.209, "grad_time_ms": 22141.519}, "date": "2019-07-23_07-52-54", "episode_reward_min": 215.97773698051296, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4665.045571804047}
{"episodes_this_iter": 15, "time_since_restore": 4745.835429430008, "episode_reward_max": 2856.6470203575623, "timesteps_since_restore": 3360000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 56, "custom_metrics": {}, "training_iteration": 56, "episode_reward_mean": 2036.5735259929054, "policy_reward_mean": {}, "timesteps_total": 3360000, "episodes_total": 1112, "timestamp": 1563893655, "time_this_iter_s": 80.7898576259613, "info": {"update_time_ms": 4.613, "default": {"vf_explained_var": 0.14468593895435333, "kl": 0.004602858331054449, "total_loss": 339.2138977050781, "cur_kl_coeff": 3.637979674453451e-13, "entropy": -0.47612032294273376, "vf_loss": 339.21453857421875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00062464241636917}, "num_steps_trained": 3360000, "sample_time_ms": 62762.154, "num_steps_sampled": 3360000, "load_time_ms": 1.216, "grad_time_ms": 22148.969}, "date": "2019-07-23_07-54-15", "episode_reward_min": 215.97773698051296, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4745.835429430008}
{"episodes_this_iter": 22, "time_since_restore": 4830.306547641754, "episode_reward_max": 2892.5069596913036, "timesteps_since_restore": 3420000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 57, "custom_metrics": {}, "training_iteration": 57, "episode_reward_mean": 2080.875498816931, "policy_reward_mean": {}, "timesteps_total": 3420000, "episodes_total": 1134, "timestamp": 1563893740, "time_this_iter_s": 84.47111821174622, "info": {"update_time_ms": 4.659, "default": {"vf_explained_var": 0.0006172918365336955, "kl": 0.003780800150707364, "total_loss": 365.8305358886719, "cur_kl_coeff": 1.8189898372267255e-13, "entropy": -0.535801112651825, "vf_loss": 365.8306579589844, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0001256863324670121}, "num_steps_trained": 3420000, "sample_time_ms": 62819.511, "num_steps_sampled": 3420000, "load_time_ms": 1.208, "grad_time_ms": 22158.433}, "date": "2019-07-23_07-55-40", "episode_reward_min": 404.06155926213233, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4830.306547641754}
{"episodes_this_iter": 22, "time_since_restore": 4917.050178766251, "episode_reward_max": 2892.5069596913036, "timesteps_since_restore": 3480000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 58, "custom_metrics": {}, "training_iteration": 58, "episode_reward_mean": 2083.291243707375, "policy_reward_mean": {}, "timesteps_total": 3480000, "episodes_total": 1156, "timestamp": 1563893826, "time_this_iter_s": 86.74363112449646, "info": {"update_time_ms": 4.526, "default": {"vf_explained_var": 0.07505103945732117, "kl": 0.004628330003470182, "total_loss": 310.4902648925781, "cur_kl_coeff": 9.094949186133627e-14, "entropy": -0.44743970036506653, "vf_loss": 310.4913635253906, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0011116490932181478}, "num_steps_trained": 3480000, "sample_time_ms": 63087.359, "num_steps_sampled": 3480000, "load_time_ms": 1.204, "grad_time_ms": 22155.313}, "date": "2019-07-23_07-57-06", "episode_reward_min": 404.06155926213233, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 4917.050178766251}
{"episodes_this_iter": 21, "time_since_restore": 5003.117550849915, "episode_reward_max": 2892.5069596913036, "timesteps_since_restore": 3540000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 59, "custom_metrics": {}, "training_iteration": 59, "episode_reward_mean": 1976.4665615369577, "policy_reward_mean": {}, "timesteps_total": 3540000, "episodes_total": 1177, "timestamp": 1563893912, "time_this_iter_s": 86.06737208366394, "info": {"update_time_ms": 4.526, "default": {"vf_explained_var": 0.1971677541732788, "kl": 0.0032542420085519552, "total_loss": 266.1270751953125, "cur_kl_coeff": 4.5474745930668137e-14, "entropy": -0.3753330409526825, "vf_loss": 266.12713623046875, "cur_lr": 4.999999873689376e-05, "policy_loss": -4.311453449190594e-05}, "num_steps_trained": 3540000, "sample_time_ms": 63065.95, "num_steps_sampled": 3540000, "load_time_ms": 1.193, "grad_time_ms": 22139.894}, "date": "2019-07-23_07-58-32", "episode_reward_min": 303.5682406102797, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5003.117550849915}
{"episodes_this_iter": 21, "time_since_restore": 5089.159723043442, "episode_reward_max": 2892.5069596913036, "timesteps_since_restore": 3600000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 60, "custom_metrics": {}, "training_iteration": 60, "episode_reward_mean": 1968.2587781337297, "policy_reward_mean": {}, "timesteps_total": 3600000, "episodes_total": 1198, "timestamp": 1563893999, "time_this_iter_s": 86.04217219352722, "info": {"update_time_ms": 4.452, "default": {"vf_explained_var": 0.03302469477057457, "kl": 0.00262013403698802, "total_loss": 259.38043212890625, "cur_kl_coeff": 2.2737372965334068e-14, "entropy": -0.4288164973258972, "vf_loss": 259.3804931640625, "cur_lr": 4.999999873689376e-05, "policy_loss": -5.2883329772157595e-05}, "num_steps_trained": 3600000, "sample_time_ms": 63053.282, "num_steps_sampled": 3600000, "load_time_ms": 1.199, "grad_time_ms": 22136.48}, "date": "2019-07-23_07-59-59", "episode_reward_min": 303.5682406102797, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5089.159723043442}
{"episodes_this_iter": 15, "time_since_restore": 5172.095765113831, "episode_reward_max": 2892.5069596913036, "timesteps_since_restore": 3660000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 61, "custom_metrics": {}, "training_iteration": 61, "episode_reward_mean": 1944.267670949868, "policy_reward_mean": {}, "timesteps_total": 3660000, "episodes_total": 1213, "timestamp": 1563894082, "time_this_iter_s": 82.9360420703888, "info": {"update_time_ms": 4.503, "default": {"vf_explained_var": 0.0003715517814271152, "kl": 0.004201010800898075, "total_loss": 352.7951965332031, "cur_kl_coeff": 1.1368686482667034e-14, "entropy": -0.5576065182685852, "vf_loss": 352.79559326171875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00037822395097464323}, "num_steps_trained": 3660000, "sample_time_ms": 63023.862, "num_steps_sampled": 3660000, "load_time_ms": 1.193, "grad_time_ms": 22143.856}, "date": "2019-07-23_08-01-22", "episode_reward_min": 303.5682406102797, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5172.095765113831}
{"episodes_this_iter": 22, "time_since_restore": 5258.784331083298, "episode_reward_max": 2946.0027810902425, "timesteps_since_restore": 3720000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 62, "custom_metrics": {}, "training_iteration": 62, "episode_reward_mean": 1864.9607098006713, "policy_reward_mean": {}, "timesteps_total": 3720000, "episodes_total": 1235, "timestamp": 1563894168, "time_this_iter_s": 86.68856596946716, "info": {"update_time_ms": 4.223, "default": {"vf_explained_var": 0.006897369399666786, "kl": 0.00467589870095253, "total_loss": 240.4745635986328, "cur_kl_coeff": 5.684343241333517e-15, "entropy": -0.38551095128059387, "vf_loss": 240.4757080078125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0011323012877255678}, "num_steps_trained": 3720000, "sample_time_ms": 63058.356, "num_steps_sampled": 3720000, "load_time_ms": 1.181, "grad_time_ms": 22153.654}, "date": "2019-07-23_08-02-48", "episode_reward_min": 303.5682406102797, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5258.784331083298}
{"episodes_this_iter": 21, "time_since_restore": 5344.1890778541565, "episode_reward_max": 2946.0027810902425, "timesteps_since_restore": 3780000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 63, "custom_metrics": {}, "training_iteration": 63, "episode_reward_mean": 1808.2999591544087, "policy_reward_mean": {}, "timesteps_total": 3780000, "episodes_total": 1256, "timestamp": 1563894254, "time_this_iter_s": 85.40474677085876, "info": {"update_time_ms": 4.19, "default": {"vf_explained_var": 0.0006232832092791796, "kl": 0.005526896100491285, "total_loss": 283.3203430175781, "cur_kl_coeff": 2.8421716206667585e-15, "entropy": -0.46785783767700195, "vf_loss": 283.3210144042969, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00065963389351964}, "num_steps_trained": 3780000, "sample_time_ms": 62906.138, "num_steps_sampled": 3780000, "load_time_ms": 1.175, "grad_time_ms": 22174.782}, "date": "2019-07-23_08-04-14", "episode_reward_min": 303.5682406102797, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5344.1890778541565}
{"episodes_this_iter": 22, "time_since_restore": 5430.805513858795, "episode_reward_max": 2946.0027810902425, "timesteps_since_restore": 3840000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 64, "custom_metrics": {}, "training_iteration": 64, "episode_reward_mean": 1937.3834064275384, "policy_reward_mean": {}, "timesteps_total": 3840000, "episodes_total": 1278, "timestamp": 1563894340, "time_this_iter_s": 86.61643600463867, "info": {"update_time_ms": 4.234, "default": {"vf_explained_var": 3.661813752842136e-05, "kl": 0.005319802090525627, "total_loss": 375.77618408203125, "cur_kl_coeff": 1.4210858103333793e-15, "entropy": -0.6819977164268494, "vf_loss": 375.77685546875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0006392283830791712}, "num_steps_trained": 3840000, "sample_time_ms": 62912.601, "num_steps_sampled": 3840000, "load_time_ms": 1.163, "grad_time_ms": 22173.544}, "date": "2019-07-23_08-05-40", "episode_reward_min": 480.9256972306629, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5430.805513858795}
{"episodes_this_iter": 18, "time_since_restore": 5515.194082736969, "episode_reward_max": 2946.0027810902425, "timesteps_since_restore": 3900000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 65, "custom_metrics": {}, "training_iteration": 65, "episode_reward_mean": 1985.6120207184554, "policy_reward_mean": {}, "timesteps_total": 3900000, "episodes_total": 1296, "timestamp": 1563894425, "time_this_iter_s": 84.38856887817383, "info": {"update_time_ms": 4.102, "default": {"vf_explained_var": 3.1553527151118033e-06, "kl": 0.003517674747854471, "total_loss": 345.85650634765625, "cur_kl_coeff": 7.105429051666896e-16, "entropy": -0.6242356300354004, "vf_loss": 345.856689453125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0002055308286799118}, "num_steps_trained": 3900000, "sample_time_ms": 62818.221, "num_steps_sampled": 3900000, "load_time_ms": 1.162, "grad_time_ms": 22155.345}, "date": "2019-07-23_08-07-05", "episode_reward_min": 551.8767448503838, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5515.194082736969}
{"episodes_this_iter": 17, "time_since_restore": 5599.772715806961, "episode_reward_max": 2946.0027810902425, "timesteps_since_restore": 3960000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 66, "custom_metrics": {}, "training_iteration": 66, "episode_reward_mean": 1995.85246570035, "policy_reward_mean": {}, "timesteps_total": 3960000, "episodes_total": 1313, "timestamp": 1563894509, "time_this_iter_s": 84.57863306999207, "info": {"update_time_ms": 4.243, "default": {"vf_explained_var": 9.791464208319667e-07, "kl": 0.0028801269363611937, "total_loss": 331.4002990722656, "cur_kl_coeff": 3.552714525833448e-16, "entropy": -0.5352192521095276, "vf_loss": 331.4005126953125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00022281311976257712}, "num_steps_trained": 3960000, "sample_time_ms": 63204.808, "num_steps_sampled": 3960000, "load_time_ms": 1.15, "grad_time_ms": 22147.55}, "date": "2019-07-23_08-08-29", "episode_reward_min": 551.8767448503838, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5599.772715806961}
{"episodes_this_iter": 22, "time_since_restore": 5686.647437095642, "episode_reward_max": 2911.6461422345315, "timesteps_since_restore": 4020000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 67, "custom_metrics": {}, "training_iteration": 67, "episode_reward_mean": 2061.3777053813874, "policy_reward_mean": {}, "timesteps_total": 4020000, "episodes_total": 1335, "timestamp": 1563894596, "time_this_iter_s": 86.87472128868103, "info": {"update_time_ms": 4.444, "default": {"vf_explained_var": 5.603855512958944e-08, "kl": 0.002664152067154646, "total_loss": 350.0195007324219, "cur_kl_coeff": 1.776357262916724e-16, "entropy": -0.675531268119812, "vf_loss": 350.0191650390625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0003284757840447128}, "num_steps_trained": 4020000, "sample_time_ms": 63460.804, "num_steps_sampled": 4020000, "load_time_ms": 1.154, "grad_time_ms": 22131.469}, "date": "2019-07-23_08-09-56", "episode_reward_min": 681.9884524870073, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5686.647437095642}
{"episodes_this_iter": 21, "time_since_restore": 5773.232155561447, "episode_reward_max": 2911.6461422345315, "timesteps_since_restore": 4080000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 68, "custom_metrics": {}, "training_iteration": 68, "episode_reward_mean": 2155.8620146769154, "policy_reward_mean": {}, "timesteps_total": 4080000, "episodes_total": 1356, "timestamp": 1563894683, "time_this_iter_s": 86.58471846580505, "info": {"update_time_ms": 4.515, "default": {"vf_explained_var": 0.006611462216824293, "kl": 0.004266116768121719, "total_loss": 369.402587890625, "cur_kl_coeff": 8.88178631458362e-17, "entropy": -0.6739369630813599, "vf_loss": 369.4029541015625, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00035271162050776184}, "num_steps_trained": 4080000, "sample_time_ms": 63442.216, "num_steps_sampled": 4080000, "load_time_ms": 1.163, "grad_time_ms": 22133.968}, "date": "2019-07-23_08-11-23", "episode_reward_min": 681.9884524870073, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5773.232155561447}
{"episodes_this_iter": 21, "time_since_restore": 5859.296552181244, "episode_reward_max": 2928.9998732467093, "timesteps_since_restore": 4140000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 69, "custom_metrics": {}, "training_iteration": 69, "episode_reward_mean": 2112.4433065497883, "policy_reward_mean": {}, "timesteps_total": 4140000, "episodes_total": 1377, "timestamp": 1563894769, "time_this_iter_s": 86.06439661979675, "info": {"update_time_ms": 4.503, "default": {"vf_explained_var": 7.473123332601972e-06, "kl": 0.0025674598291516304, "total_loss": 301.5846252441406, "cur_kl_coeff": 4.44089315729181e-17, "entropy": -0.5766565203666687, "vf_loss": 301.5845642089844, "cur_lr": 4.999999873689376e-05, "policy_loss": 9.334233618574217e-05}, "num_steps_trained": 4140000, "sample_time_ms": 63438.328, "num_steps_sampled": 4140000, "load_time_ms": 1.169, "grad_time_ms": 22137.63}, "date": "2019-07-23_08-12-49", "episode_reward_min": 681.9884524870073, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5859.296552181244}
{"episodes_this_iter": 19, "time_since_restore": 5944.673228979111, "episode_reward_max": 2940.2358158779653, "timesteps_since_restore": 4200000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 70, "custom_metrics": {}, "training_iteration": 70, "episode_reward_mean": 2053.4124893984854, "policy_reward_mean": {}, "timesteps_total": 4200000, "episodes_total": 1396, "timestamp": 1563894854, "time_this_iter_s": 85.37667679786682, "info": {"update_time_ms": 4.713, "default": {"vf_explained_var": 0.0014340197667479515, "kl": 0.0056185792200267315, "total_loss": 300.82171630859375, "cur_kl_coeff": 2.220446578645905e-17, "entropy": -0.5564364790916443, "vf_loss": 300.82220458984375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0005089661572128534}, "num_steps_trained": 4200000, "sample_time_ms": 63370.605, "num_steps_sampled": 4200000, "load_time_ms": 1.173, "grad_time_ms": 22138.574}, "date": "2019-07-23_08-14-14", "episode_reward_min": 681.9884524870073, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 5944.673228979111}
{"episodes_this_iter": 17, "time_since_restore": 6029.270319700241, "episode_reward_max": 2940.2358158779653, "timesteps_since_restore": 4260000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 71, "custom_metrics": {}, "training_iteration": 71, "episode_reward_mean": 2074.801288285222, "policy_reward_mean": {}, "timesteps_total": 4260000, "episodes_total": 1413, "timestamp": 1563894939, "time_this_iter_s": 84.59709072113037, "info": {"update_time_ms": 4.664, "default": {"vf_explained_var": 4.072398223797791e-05, "kl": 0.004900089465081692, "total_loss": 364.53680419921875, "cur_kl_coeff": 1.1102232893229526e-17, "entropy": -0.7142218947410583, "vf_loss": 364.5372009277344, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0004119448421988636}, "num_steps_trained": 4260000, "sample_time_ms": 63539.384, "num_steps_sampled": 4260000, "load_time_ms": 1.177, "grad_time_ms": 22135.884}, "date": "2019-07-23_08-15-39", "episode_reward_min": 691.5732015865664, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6029.270319700241}
{"episodes_this_iter": 22, "time_since_restore": 6115.758500814438, "episode_reward_max": 2970.7676848654132, "timesteps_since_restore": 4320000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 72, "custom_metrics": {}, "training_iteration": 72, "episode_reward_mean": 2128.498857607641, "policy_reward_mean": {}, "timesteps_total": 4320000, "episodes_total": 1435, "timestamp": 1563895025, "time_this_iter_s": 86.48818111419678, "info": {"update_time_ms": 4.818, "default": {"vf_explained_var": 3.963326889788732e-06, "kl": 0.005887876730412245, "total_loss": 409.5643005371094, "cur_kl_coeff": 5.551116446614763e-18, "entropy": -0.7290350794792175, "vf_loss": 409.56536865234375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0010770432418212295}, "num_steps_trained": 4320000, "sample_time_ms": 63522.715, "num_steps_sampled": 4320000, "load_time_ms": 1.179, "grad_time_ms": 22132.361}, "date": "2019-07-23_08-17-05", "episode_reward_min": 691.5732015865664, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6115.758500814438}
{"episodes_this_iter": 21, "time_since_restore": 6202.3336498737335, "episode_reward_max": 2975.699693973652, "timesteps_since_restore": 4380000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 73, "custom_metrics": {}, "training_iteration": 73, "episode_reward_mean": 2105.533553253301, "policy_reward_mean": {}, "timesteps_total": 4380000, "episodes_total": 1456, "timestamp": 1563895112, "time_this_iter_s": 86.57514905929565, "info": {"update_time_ms": 4.859, "default": {"vf_explained_var": 3.2054053917818237e-06, "kl": 0.0038660895079374313, "total_loss": 352.3548278808594, "cur_kl_coeff": 2.7755582233073814e-18, "entropy": -0.6730788350105286, "vf_loss": 352.3553161621094, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0004675117670558393}, "num_steps_trained": 4380000, "sample_time_ms": 63659.295, "num_steps_sampled": 4380000, "load_time_ms": 1.189, "grad_time_ms": 22112.706}, "date": "2019-07-23_08-18-32", "episode_reward_min": 691.5732015865664, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6202.3336498737335}
{"episodes_this_iter": 21, "time_since_restore": 6287.467483282089, "episode_reward_max": 2975.699693973652, "timesteps_since_restore": 4440000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 74, "custom_metrics": {}, "training_iteration": 74, "episode_reward_mean": 2077.6027976591226, "policy_reward_mean": {}, "timesteps_total": 4440000, "episodes_total": 1477, "timestamp": 1563895197, "time_this_iter_s": 85.13383340835571, "info": {"update_time_ms": 5.009, "default": {"vf_explained_var": 0.0009414143278263509, "kl": 0.003433848265558481, "total_loss": 267.9915771484375, "cur_kl_coeff": 1.3877791116536907e-18, "entropy": -0.5329232215881348, "vf_loss": 267.9919128417969, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00032777563319541514}, "num_steps_trained": 4440000, "sample_time_ms": 63513.207, "num_steps_sampled": 4440000, "load_time_ms": 1.199, "grad_time_ms": 22110.363}, "date": "2019-07-23_08-19-57", "episode_reward_min": 735.107332567327, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6287.467483282089}
{"episodes_this_iter": 19, "time_since_restore": 6371.691499710083, "episode_reward_max": 2975.699693973652, "timesteps_since_restore": 4500000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 75, "custom_metrics": {}, "training_iteration": 75, "episode_reward_mean": 2106.435501263947, "policy_reward_mean": {}, "timesteps_total": 4500000, "episodes_total": 1496, "timestamp": 1563895281, "time_this_iter_s": 84.22401642799377, "info": {"update_time_ms": 4.978, "default": {"vf_explained_var": 1.492077444709139e-05, "kl": 0.002678083488717675, "total_loss": 331.51849365234375, "cur_kl_coeff": 6.9388955582684535e-19, "entropy": -0.6479427218437195, "vf_loss": 331.518310546875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00017479911912232637}, "num_steps_trained": 4500000, "sample_time_ms": 63459.001, "num_steps_sampled": 4500000, "load_time_ms": 1.197, "grad_time_ms": 22147.901}, "date": "2019-07-23_08-21-21", "episode_reward_min": 739.1552300599465, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6371.691499710083}
{"episodes_this_iter": 16, "time_since_restore": 6452.984669685364, "episode_reward_max": 2975.699693973652, "timesteps_since_restore": 4560000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 76, "custom_metrics": {}, "training_iteration": 76, "episode_reward_mean": 2125.3437314474427, "policy_reward_mean": {}, "timesteps_total": 4560000, "episodes_total": 1512, "timestamp": 1563895363, "time_this_iter_s": 81.29316997528076, "info": {"update_time_ms": 4.913, "default": {"vf_explained_var": 4.151947408104206e-08, "kl": 0.0035212156362831593, "total_loss": 367.17962646484375, "cur_kl_coeff": 3.4694477791342267e-19, "entropy": -0.7602307796478271, "vf_loss": 367.1794128417969, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00019882428750861436}, "num_steps_trained": 4560000, "sample_time_ms": 63129.031, "num_steps_sampled": 4560000, "load_time_ms": 1.206, "grad_time_ms": 22149.416}, "date": "2019-07-23_08-22-43", "episode_reward_min": 739.1552300599465, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6452.984669685364}
{"episodes_this_iter": 22, "time_since_restore": 6536.642551898956, "episode_reward_max": 2975.699693973652, "timesteps_since_restore": 4620000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 77, "custom_metrics": {}, "training_iteration": 77, "episode_reward_mean": 2052.0235407427444, "policy_reward_mean": {}, "timesteps_total": 4620000, "episodes_total": 1534, "timestamp": 1563895446, "time_this_iter_s": 83.65788221359253, "info": {"update_time_ms": 4.663, "default": {"vf_explained_var": 0.05114882066845894, "kl": 0.005018236115574837, "total_loss": 339.95098876953125, "cur_kl_coeff": 1.7347238895671134e-19, "entropy": -0.6930262446403503, "vf_loss": 339.9516296386719, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.000611986848525703}, "num_steps_trained": 4620000, "sample_time_ms": 62806.827, "num_steps_sampled": 4620000, "load_time_ms": 1.209, "grad_time_ms": 22150.231}, "date": "2019-07-23_08-24-06", "episode_reward_min": 739.1552300599465, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6536.642551898956}
{"episodes_this_iter": 22, "time_since_restore": 6621.79085111618, "episode_reward_max": 2949.468992111337, "timesteps_since_restore": 4680000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 78, "custom_metrics": {}, "training_iteration": 78, "episode_reward_mean": 2084.5760579847274, "policy_reward_mean": {}, "timesteps_total": 4680000, "episodes_total": 1556, "timestamp": 1563895532, "time_this_iter_s": 85.14829921722412, "info": {"update_time_ms": 4.649, "default": {"vf_explained_var": 6.356555331876734e-06, "kl": 0.003425152041018009, "total_loss": 371.32391357421875, "cur_kl_coeff": 8.673619447835567e-20, "entropy": -0.7810261845588684, "vf_loss": 371.3240661621094, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00011523768625920638}, "num_steps_trained": 4680000, "sample_time_ms": 62671.215, "num_steps_sampled": 4680000, "load_time_ms": 1.202, "grad_time_ms": 22142.231}, "date": "2019-07-23_08-25-32", "episode_reward_min": 763.3268256745214, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6621.79085111618}
{"episodes_this_iter": 22, "time_since_restore": 6709.143426895142, "episode_reward_max": 2981.287930472976, "timesteps_since_restore": 4740000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 79, "custom_metrics": {}, "training_iteration": 79, "episode_reward_mean": 2177.2591079248987, "policy_reward_mean": {}, "timesteps_total": 4740000, "episodes_total": 1578, "timestamp": 1563895619, "time_this_iter_s": 87.35257577896118, "info": {"update_time_ms": 4.643, "default": {"vf_explained_var": 1.9193204536804842e-07, "kl": 0.0035690648946911097, "total_loss": 392.34210205078125, "cur_kl_coeff": 4.3368097239177834e-20, "entropy": -0.8075066208839417, "vf_loss": 392.3418273925781, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0003120709443464875}, "num_steps_trained": 4740000, "sample_time_ms": 62790.896, "num_steps_sampled": 4740000, "load_time_ms": 1.205, "grad_time_ms": 22151.29}, "date": "2019-07-23_08-26-59", "episode_reward_min": 763.3268256745214, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6709.143426895142}
{"episodes_this_iter": 20, "time_since_restore": 6795.105936288834, "episode_reward_max": 2981.287930472976, "timesteps_since_restore": 4800000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 80, "custom_metrics": {}, "training_iteration": 80, "episode_reward_mean": 2184.205323380532, "policy_reward_mean": {}, "timesteps_total": 4800000, "episodes_total": 1598, "timestamp": 1563895705, "time_this_iter_s": 85.96250939369202, "info": {"update_time_ms": 4.569, "default": {"vf_explained_var": 5.868765242666996e-07, "kl": 0.004401343408972025, "total_loss": 329.9592590332031, "cur_kl_coeff": 2.1684048619588917e-20, "entropy": -0.7227503061294556, "vf_loss": 329.95953369140625, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0002845256240107119}, "num_steps_trained": 4800000, "sample_time_ms": 62844.609, "num_steps_sampled": 4800000, "load_time_ms": 1.21, "grad_time_ms": 22156.379}, "date": "2019-07-23_08-28-25", "episode_reward_min": 763.3268256745214, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6795.105936288834}
{"episodes_this_iter": 13, "time_since_restore": 6875.208207607269, "episode_reward_max": 3002.663029558941, "timesteps_since_restore": 4860000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 81, "custom_metrics": {}, "training_iteration": 81, "episode_reward_mean": 2199.10107549947, "policy_reward_mean": {}, "timesteps_total": 4860000, "episodes_total": 1611, "timestamp": 1563895785, "time_this_iter_s": 80.10227131843567, "info": {"update_time_ms": 4.541, "default": {"vf_explained_var": 0.03361380845308304, "kl": 0.0059523326344788074, "total_loss": 424.4688720703125, "cur_kl_coeff": 1.0842024309794459e-20, "entropy": -0.8614675402641296, "vf_loss": 424.4696044921875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0007159928791224957}, "num_steps_trained": 4860000, "sample_time_ms": 62394.016, "num_steps_sampled": 4860000, "load_time_ms": 1.209, "grad_time_ms": 22157.622}, "date": "2019-07-23_08-29-45", "episode_reward_min": 763.3268256745214, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6875.208207607269}
{"episodes_this_iter": 22, "time_since_restore": 6959.108957529068, "episode_reward_max": 3002.663029558941, "timesteps_since_restore": 4920000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 82, "custom_metrics": {}, "training_iteration": 82, "episode_reward_mean": 2211.6268790490417, "policy_reward_mean": {}, "timesteps_total": 4920000, "episodes_total": 1633, "timestamp": 1563895869, "time_this_iter_s": 83.9007499217987, "info": {"update_time_ms": 4.494, "default": {"vf_explained_var": 6.0865004343213513e-05, "kl": 0.0056735859252512455, "total_loss": 320.3637390136719, "cur_kl_coeff": 5.421012154897229e-21, "entropy": -0.7080905437469482, "vf_loss": 320.36407470703125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0003518970333971083}, "num_steps_trained": 4920000, "sample_time_ms": 62137.129, "num_steps_sampled": 4920000, "load_time_ms": 1.203, "grad_time_ms": 22155.949}, "date": "2019-07-23_08-31-09", "episode_reward_min": 763.3268256745214, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 6959.108957529068}
{"episodes_this_iter": 22, "time_since_restore": 7043.336239337921, "episode_reward_max": 3002.663029558941, "timesteps_since_restore": 4980000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 83, "custom_metrics": {}, "training_iteration": 83, "episode_reward_mean": 2210.242708822494, "policy_reward_mean": {}, "timesteps_total": 4980000, "episodes_total": 1655, "timestamp": 1563895953, "time_this_iter_s": 84.22728180885315, "info": {"update_time_ms": 4.493, "default": {"vf_explained_var": 9.404670890944544e-06, "kl": 0.0042492058128118515, "total_loss": 375.1224670410156, "cur_kl_coeff": 2.7105060774486146e-21, "entropy": -0.7079905867576599, "vf_loss": 375.1232604980469, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.000800303416326642}, "num_steps_trained": 4980000, "sample_time_ms": 61894.465, "num_steps_sampled": 4980000, "load_time_ms": 1.187, "grad_time_ms": 22163.798}, "date": "2019-07-23_08-32-33", "episode_reward_min": 647.3947978185697, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7043.336239337921}
{"episodes_this_iter": 22, "time_since_restore": 7128.246044397354, "episode_reward_max": 3002.663029558941, "timesteps_since_restore": 5040000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 84, "custom_metrics": {}, "training_iteration": 84, "episode_reward_mean": 2157.5373314962317, "policy_reward_mean": {}, "timesteps_total": 5040000, "episodes_total": 1677, "timestamp": 1563896038, "time_this_iter_s": 84.90980505943298, "info": {"update_time_ms": 4.295, "default": {"vf_explained_var": 9.538818994769827e-05, "kl": 0.005354502238333225, "total_loss": 362.390625, "cur_kl_coeff": 1.3552530387243073e-21, "entropy": -0.819259762763977, "vf_loss": 362.3904113769531, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0001744716428220272}, "num_steps_trained": 5040000, "sample_time_ms": 61865.086, "num_steps_sampled": 5040000, "load_time_ms": 1.184, "grad_time_ms": 22170.945}, "date": "2019-07-23_08-33-58", "episode_reward_min": 647.3947978185697, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7128.246044397354}
{"episodes_this_iter": 22, "time_since_restore": 7215.172346830368, "episode_reward_max": 3002.663029558941, "timesteps_since_restore": 5100000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 85, "custom_metrics": {}, "training_iteration": 85, "episode_reward_mean": 2214.5908110223872, "policy_reward_mean": {}, "timesteps_total": 5100000, "episodes_total": 1699, "timestamp": 1563896125, "time_this_iter_s": 86.92630243301392, "info": {"update_time_ms": 4.178, "default": {"vf_explained_var": 3.35403478857188e-06, "kl": 0.003512417199090123, "total_loss": 393.81048583984375, "cur_kl_coeff": 6.776265193621537e-22, "entropy": -0.8839839100837708, "vf_loss": 393.8103332519531, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00017670536180958152}, "num_steps_trained": 5100000, "sample_time_ms": 62157.094, "num_steps_sampled": 5100000, "load_time_ms": 1.175, "grad_time_ms": 22149.463}, "date": "2019-07-23_08-35-25", "episode_reward_min": 647.3947978185697, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7215.172346830368}
{"episodes_this_iter": 15, "time_since_restore": 7298.589274644852, "episode_reward_max": 2981.9587158897366, "timesteps_since_restore": 5160000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 86, "custom_metrics": {}, "training_iteration": 86, "episode_reward_mean": 2188.4053765970993, "policy_reward_mean": {}, "timesteps_total": 5160000, "episodes_total": 1714, "timestamp": 1563896209, "time_this_iter_s": 83.41692781448364, "info": {"update_time_ms": 4.17, "default": {"vf_explained_var": 1.0621853618886234e-07, "kl": 0.0037827990017831326, "total_loss": 332.2265625, "cur_kl_coeff": 3.3881325968107683e-22, "entropy": -0.8101028203964233, "vf_loss": 332.2261962890625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00033914277446456254}, "num_steps_trained": 5160000, "sample_time_ms": 62368.419, "num_steps_sampled": 5160000, "load_time_ms": 1.174, "grad_time_ms": 22150.516}, "date": "2019-07-23_08-36-49", "episode_reward_min": 647.3947978185697, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7298.589274644852}
{"episodes_this_iter": 18, "time_since_restore": 7380.398556947708, "episode_reward_max": 3002.2853824242197, "timesteps_since_restore": 5220000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 87, "custom_metrics": {}, "training_iteration": 87, "episode_reward_mean": 2178.1869593207593, "policy_reward_mean": {}, "timesteps_total": 5220000, "episodes_total": 1732, "timestamp": 1563896290, "time_this_iter_s": 81.80928230285645, "info": {"update_time_ms": 4.202, "default": {"vf_explained_var": 0.0004943966050632298, "kl": 0.004436548333615065, "total_loss": 329.4845886230469, "cur_kl_coeff": 1.6940662984053842e-22, "entropy": -0.766000509262085, "vf_loss": 329.4851989746094, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0006014704122208059}, "num_steps_trained": 5220000, "sample_time_ms": 62164.999, "num_steps_sampled": 5220000, "load_time_ms": 1.174, "grad_time_ms": 22168.974}, "date": "2019-07-23_08-38-10", "episode_reward_min": 647.3947978185697, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7380.398556947708}
{"episodes_this_iter": 22, "time_since_restore": 7464.597469806671, "episode_reward_max": 3002.2853824242197, "timesteps_since_restore": 5280000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 88, "custom_metrics": {}, "training_iteration": 88, "episode_reward_mean": 2187.960913873725, "policy_reward_mean": {}, "timesteps_total": 5280000, "episodes_total": 1754, "timestamp": 1563896375, "time_this_iter_s": 84.19891285896301, "info": {"update_time_ms": 4.241, "default": {"vf_explained_var": 0.028954636305570602, "kl": 0.005796295125037432, "total_loss": 397.0038757324219, "cur_kl_coeff": 8.470331492026921e-23, "entropy": -0.8851778507232666, "vf_loss": 397.00482177734375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0009003014420159161}, "num_steps_trained": 5280000, "sample_time_ms": 62062.604, "num_steps_sampled": 5280000, "load_time_ms": 1.189, "grad_time_ms": 22176.532}, "date": "2019-07-23_08-39-35", "episode_reward_min": 612.5854676386606, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7464.597469806671}
{"episodes_this_iter": 22, "time_since_restore": 7548.791549682617, "episode_reward_max": 3002.2853824242197, "timesteps_since_restore": 5340000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 89, "custom_metrics": {}, "training_iteration": 89, "episode_reward_mean": 2224.194272827841, "policy_reward_mean": {}, "timesteps_total": 5340000, "episodes_total": 1776, "timestamp": 1563896459, "time_this_iter_s": 84.19407987594604, "info": {"update_time_ms": 4.191, "default": {"vf_explained_var": 1.6716046502551762e-06, "kl": 0.003429862204939127, "total_loss": 411.06884765625, "cur_kl_coeff": 4.2351657460134604e-23, "entropy": -0.9271253943443298, "vf_loss": 411.068115234375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0007171977194957435}, "num_steps_trained": 5340000, "sample_time_ms": 61753.549, "num_steps_sampled": 5340000, "load_time_ms": 1.176, "grad_time_ms": 22169.843}, "date": "2019-07-23_08-40-59", "episode_reward_min": 612.5854676386606, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7548.791549682617}
{"episodes_this_iter": 22, "time_since_restore": 7633.724431991577, "episode_reward_max": 3031.328809660996, "timesteps_since_restore": 5400000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 90, "custom_metrics": {}, "training_iteration": 90, "episode_reward_mean": 2196.921732016581, "policy_reward_mean": {}, "timesteps_total": 5400000, "episodes_total": 1798, "timestamp": 1563896544, "time_this_iter_s": 84.93288230895996, "info": {"update_time_ms": 4.058, "default": {"vf_explained_var": 0.003930830396711826, "kl": 0.004320479929447174, "total_loss": 339.1936950683594, "cur_kl_coeff": 2.1175828730067302e-23, "entropy": -0.788925290107727, "vf_loss": 339.194580078125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0008338529150933027}, "num_steps_trained": 5400000, "sample_time_ms": 61640.421, "num_steps_sampled": 5400000, "load_time_ms": 1.185, "grad_time_ms": 22179.928}, "date": "2019-07-23_08-42-24", "episode_reward_min": 612.5854676386606, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7633.724431991577}
{"episodes_this_iter": 17, "time_since_restore": 7718.658385038376, "episode_reward_max": 3031.328809660996, "timesteps_since_restore": 5460000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 91, "custom_metrics": {}, "training_iteration": 91, "episode_reward_mean": 2184.039615445216, "policy_reward_mean": {}, "timesteps_total": 5460000, "episodes_total": 1815, "timestamp": 1563896629, "time_this_iter_s": 84.9339530467987, "info": {"update_time_ms": 4.063, "default": {"vf_explained_var": 0.006180166266858578, "kl": 0.005287230480462313, "total_loss": 362.6004638671875, "cur_kl_coeff": 1.0587914365033651e-23, "entropy": -0.825837254524231, "vf_loss": 362.60089111328125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0004161431861575693}, "num_steps_trained": 5460000, "sample_time_ms": 62124.814, "num_steps_sampled": 5460000, "load_time_ms": 1.18, "grad_time_ms": 22178.627}, "date": "2019-07-23_08-43-49", "episode_reward_min": 612.5854676386606, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7718.658385038376}
{"episodes_this_iter": 20, "time_since_restore": 7804.7833132743835, "episode_reward_max": 3031.328809660996, "timesteps_since_restore": 5520000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 92, "custom_metrics": {}, "training_iteration": 92, "episode_reward_mean": 2201.2347299032485, "policy_reward_mean": {}, "timesteps_total": 5520000, "episodes_total": 1835, "timestamp": 1563896715, "time_this_iter_s": 86.12492823600769, "info": {"update_time_ms": 3.916, "default": {"vf_explained_var": 1.343460644420702e-05, "kl": 0.008318697102367878, "total_loss": 362.92266845703125, "cur_kl_coeff": 5.2939571825168255e-24, "entropy": -0.852935254573822, "vf_loss": 362.9244689941406, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0017959174001589417}, "num_steps_trained": 5520000, "sample_time_ms": 62335.422, "num_steps_sampled": 5520000, "load_time_ms": 1.212, "grad_time_ms": 22190.119}, "date": "2019-07-23_08-45-15", "episode_reward_min": 612.5854676386606, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7804.7833132743835}
{"episodes_this_iter": 21, "time_since_restore": 7890.781156778336, "episode_reward_max": 3031.328809660996, "timesteps_since_restore": 5580000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 93, "custom_metrics": {}, "training_iteration": 93, "episode_reward_mean": 2222.7503774705083, "policy_reward_mean": {}, "timesteps_total": 5580000, "episodes_total": 1856, "timestamp": 1563896801, "time_this_iter_s": 85.99784350395203, "info": {"update_time_ms": 3.987, "default": {"vf_explained_var": 0.005753630772233009, "kl": 0.003535621799528599, "total_loss": 370.5195007324219, "cur_kl_coeff": 2.6469785912584127e-24, "entropy": -0.8440732955932617, "vf_loss": 370.5196838378906, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0001676327083259821}, "num_steps_trained": 5580000, "sample_time_ms": 62511.515, "num_steps_sampled": 5580000, "load_time_ms": 1.228, "grad_time_ms": 22191.039}, "date": "2019-07-23_08-46-41", "episode_reward_min": 781.4344427700644, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7890.781156778336}
{"episodes_this_iter": 21, "time_since_restore": 7976.77028131485, "episode_reward_max": 3031.328809660996, "timesteps_since_restore": 5640000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 94, "custom_metrics": {}, "training_iteration": 94, "episode_reward_mean": 2195.667825744034, "policy_reward_mean": {}, "timesteps_total": 5640000, "episodes_total": 1877, "timestamp": 1563896887, "time_this_iter_s": 85.98912453651428, "info": {"update_time_ms": 4.1, "default": {"vf_explained_var": 2.8564889362314716e-05, "kl": 0.005272107198834419, "total_loss": 384.035888671875, "cur_kl_coeff": 1.3234892956292064e-24, "entropy": -1.0022449493408203, "vf_loss": 384.03558349609375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00028808318893425167}, "num_steps_trained": 5640000, "sample_time_ms": 62609.118, "num_steps_sampled": 5640000, "load_time_ms": 1.234, "grad_time_ms": 22201.274}, "date": "2019-07-23_08-48-07", "episode_reward_min": 774.5379993218385, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 7976.77028131485}
{"episodes_this_iter": 17, "time_since_restore": 8061.239141941071, "episode_reward_max": 3031.328809660996, "timesteps_since_restore": 5700000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 95, "custom_metrics": {}, "training_iteration": 95, "episode_reward_mean": 2226.117185713148, "policy_reward_mean": {}, "timesteps_total": 5700000, "episodes_total": 1894, "timestamp": 1563896971, "time_this_iter_s": 84.4688606262207, "info": {"update_time_ms": 4.196, "default": {"vf_explained_var": 0.06386943906545639, "kl": 0.006152305752038956, "total_loss": 372.1347351074219, "cur_kl_coeff": 6.617446478146032e-25, "entropy": -0.9494988322257996, "vf_loss": 372.13555908203125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0007835733704268932}, "num_steps_trained": 5700000, "sample_time_ms": 62373.346, "num_steps_sampled": 5700000, "load_time_ms": 1.245, "grad_time_ms": 22191.188}, "date": "2019-07-23_08-49-31", "episode_reward_min": 762.5835866495876, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8061.239141941071}
{"episodes_this_iter": 21, "time_since_restore": 8147.130670309067, "episode_reward_max": 3024.3711817665558, "timesteps_since_restore": 5760000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 96, "custom_metrics": {}, "training_iteration": 96, "episode_reward_mean": 2253.8144972522064, "policy_reward_mean": {}, "timesteps_total": 5760000, "episodes_total": 1915, "timestamp": 1563897057, "time_this_iter_s": 85.89152836799622, "info": {"update_time_ms": 4.189, "default": {"vf_explained_var": 0.0001506000553490594, "kl": 0.004396120551973581, "total_loss": 379.6698913574219, "cur_kl_coeff": 3.308723239073016e-25, "entropy": -0.969681441783905, "vf_loss": 379.6697998046875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00010108565766131505}, "num_steps_trained": 5760000, "sample_time_ms": 62630.15, "num_steps_sampled": 5760000, "load_time_ms": 1.234, "grad_time_ms": 22181.728}, "date": "2019-07-23_08-50-57", "episode_reward_min": 762.5835866495876, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8147.130670309067}
{"episodes_this_iter": 22, "time_since_restore": 8232.895148515701, "episode_reward_max": 3024.3711817665558, "timesteps_since_restore": 5820000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 97, "custom_metrics": {}, "training_iteration": 97, "episode_reward_mean": 2203.350119862174, "policy_reward_mean": {}, "timesteps_total": 5820000, "episodes_total": 1937, "timestamp": 1563897143, "time_this_iter_s": 85.76447820663452, "info": {"update_time_ms": 4.193, "default": {"vf_explained_var": 0.0870395079255104, "kl": 0.0033963166642934084, "total_loss": 286.221923828125, "cur_kl_coeff": 1.654361619536508e-25, "entropy": -0.7640382051467896, "vf_loss": 286.22186279296875, "cur_lr": 4.999999873689376e-05, "policy_loss": 6.641664367634803e-05}, "num_steps_trained": 5820000, "sample_time_ms": 63030.298, "num_steps_sampled": 5820000, "load_time_ms": 1.237, "grad_time_ms": 22177.179}, "date": "2019-07-23_08-52-23", "episode_reward_min": 757.6189043847237, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8232.895148515701}
{"episodes_this_iter": 19, "time_since_restore": 8318.88079881668, "episode_reward_max": 3015.1384144103044, "timesteps_since_restore": 5880000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 98, "custom_metrics": {}, "training_iteration": 98, "episode_reward_mean": 2169.1986267331777, "policy_reward_mean": {}, "timesteps_total": 5880000, "episodes_total": 1956, "timestamp": 1563897229, "time_this_iter_s": 85.98565030097961, "info": {"update_time_ms": 4.204, "default": {"vf_explained_var": 9.169359691441059e-05, "kl": 0.006282686721533537, "total_loss": 323.19891357421875, "cur_kl_coeff": 8.27180809768254e-26, "entropy": -0.9166447520256042, "vf_loss": 323.19952392578125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0005941332783550024}, "num_steps_trained": 5880000, "sample_time_ms": 63221.369, "num_steps_sampled": 5880000, "load_time_ms": 1.227, "grad_time_ms": 22164.711}, "date": "2019-07-23_08-53-49", "episode_reward_min": 757.6189043847237, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8318.88079881668}
{"episodes_this_iter": 20, "time_since_restore": 8404.397763967514, "episode_reward_max": 3015.1384144103044, "timesteps_since_restore": 5940000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 99, "custom_metrics": {}, "training_iteration": 99, "episode_reward_mean": 2199.413583987375, "policy_reward_mean": {}, "timesteps_total": 5940000, "episodes_total": 1976, "timestamp": 1563897315, "time_this_iter_s": 85.51696515083313, "info": {"update_time_ms": 4.235, "default": {"vf_explained_var": 3.395427086161362e-07, "kl": 0.0052992310374975204, "total_loss": 405.3589782714844, "cur_kl_coeff": 4.13590404884127e-26, "entropy": -1.079150915145874, "vf_loss": 405.3592529296875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0003011063381563872}, "num_steps_trained": 5940000, "sample_time_ms": 63336.826, "num_steps_sampled": 5940000, "load_time_ms": 1.264, "grad_time_ms": 22181.292}, "date": "2019-07-23_08-55-15", "episode_reward_min": 757.6189043847237, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8404.397763967514}
{"episodes_this_iter": 17, "time_since_restore": 8487.438417434692, "episode_reward_max": 3039.0492882762874, "timesteps_since_restore": 6000000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 100, "custom_metrics": {}, "training_iteration": 100, "episode_reward_mean": 2182.881828942903, "policy_reward_mean": {}, "timesteps_total": 6000000, "episodes_total": 1993, "timestamp": 1563897398, "time_this_iter_s": 83.04065346717834, "info": {"update_time_ms": 4.173, "default": {"vf_explained_var": 7.244129392347531e-06, "kl": 0.00553336413577199, "total_loss": 357.3929748535156, "cur_kl_coeff": 2.067952024420635e-26, "entropy": -0.9382762908935547, "vf_loss": 357.3937072753906, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0007179458625614643}, "num_steps_trained": 6000000, "sample_time_ms": 63161.177, "num_steps_sampled": 6000000, "load_time_ms": 1.246, "grad_time_ms": 22167.935}, "date": "2019-07-23_08-56-38", "episode_reward_min": 757.6189043847237, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8487.438417434692}
{"episodes_this_iter": 22, "time_since_restore": 8572.532163381577, "episode_reward_max": 3055.1809516193634, "timesteps_since_restore": 6060000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 101, "custom_metrics": {}, "training_iteration": 101, "episode_reward_mean": 2111.4085727511997, "policy_reward_mean": {}, "timesteps_total": 6060000, "episodes_total": 2015, "timestamp": 1563897483, "time_this_iter_s": 85.09374594688416, "info": {"update_time_ms": 4.308, "default": {"vf_explained_var": 0.010829181410372257, "kl": 0.004676248412579298, "total_loss": 304.6097106933594, "cur_kl_coeff": 1.0339760122103175e-26, "entropy": -0.8352612853050232, "vf_loss": 304.6101379394531, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00044088493450544775}, "num_steps_trained": 6060000, "sample_time_ms": 63173.281, "num_steps_sampled": 6060000, "load_time_ms": 1.247, "grad_time_ms": 22171.559}, "date": "2019-07-23_08-58-03", "episode_reward_min": 680.5404465201127, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8572.532163381577}
{"episodes_this_iter": 22, "time_since_restore": 8658.197186470032, "episode_reward_max": 3055.1809516193634, "timesteps_since_restore": 6120000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 102, "custom_metrics": {}, "training_iteration": 102, "episode_reward_mean": 2148.0131718367215, "policy_reward_mean": {}, "timesteps_total": 6120000, "episodes_total": 2037, "timestamp": 1563897569, "time_this_iter_s": 85.6650230884552, "info": {"update_time_ms": 4.288, "default": {"vf_explained_var": 0.0005724183283746243, "kl": 0.004729269538074732, "total_loss": 319.30169677734375, "cur_kl_coeff": 5.1698800610515874e-27, "entropy": -0.8680223822593689, "vf_loss": 319.3023376464844, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0006698640063405037}, "num_steps_trained": 6120000, "sample_time_ms": 63124.895, "num_steps_sampled": 6120000, "load_time_ms": 1.217, "grad_time_ms": 22174.165}, "date": "2019-07-23_08-59-29", "episode_reward_min": 680.5404465201127, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8658.197186470032}
{"episodes_this_iter": 19, "time_since_restore": 8743.466419935226, "episode_reward_max": 3055.1809516193634, "timesteps_since_restore": 6180000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 103, "custom_metrics": {}, "training_iteration": 103, "episode_reward_mean": 2129.6896140967524, "policy_reward_mean": {}, "timesteps_total": 6180000, "episodes_total": 2056, "timestamp": 1563897654, "time_this_iter_s": 85.2692334651947, "info": {"update_time_ms": 4.223, "default": {"vf_explained_var": 0.01728006824851036, "kl": 0.00552016869187355, "total_loss": 301.2191467285156, "cur_kl_coeff": 2.5849400305257937e-27, "entropy": -0.9079089164733887, "vf_loss": 301.2200927734375, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.000954708200879395}, "num_steps_trained": 6180000, "sample_time_ms": 63058.293, "num_steps_sampled": 6180000, "load_time_ms": 1.209, "grad_time_ms": 22167.902}, "date": "2019-07-23_09-00-54", "episode_reward_min": 680.5404465201127, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8743.466419935226}
{"episodes_this_iter": 21, "time_since_restore": 8829.426754713058, "episode_reward_max": 3055.1809516193634, "timesteps_since_restore": 6240000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 104, "custom_metrics": {}, "training_iteration": 104, "episode_reward_mean": 2058.6415423054864, "policy_reward_mean": {}, "timesteps_total": 6240000, "episodes_total": 2077, "timestamp": 1563897740, "time_this_iter_s": 85.96033477783203, "info": {"update_time_ms": 4.067, "default": {"vf_explained_var": 5.730324119213037e-06, "kl": 0.002777801128104329, "total_loss": 322.4807434082031, "cur_kl_coeff": 1.2924700152628968e-27, "entropy": -0.9477139711380005, "vf_loss": 322.480712890625, "cur_lr": 4.999999873689376e-05, "policy_loss": 2.9767934393021278e-05}, "num_steps_trained": 6240000, "sample_time_ms": 63054.029, "num_steps_sampled": 6240000, "load_time_ms": 1.213, "grad_time_ms": 22169.466}, "date": "2019-07-23_09-02-20", "episode_reward_min": 680.5404465201127, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8829.426754713058}
{"episodes_this_iter": 15, "time_since_restore": 8910.677511930466, "episode_reward_max": 3055.1809516193634, "timesteps_since_restore": 6300000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 105, "custom_metrics": {}, "training_iteration": 105, "episode_reward_mean": 2085.049746792333, "policy_reward_mean": {}, "timesteps_total": 6300000, "episodes_total": 2092, "timestamp": 1563897821, "time_this_iter_s": 81.25075721740723, "info": {"update_time_ms": 4.256, "default": {"vf_explained_var": 0.0016289514023810625, "kl": 0.005191999487578869, "total_loss": 416.9240417480469, "cur_kl_coeff": 6.462350076314484e-28, "entropy": -1.1338061094284058, "vf_loss": 416.92401123046875, "cur_lr": 4.999999873689376e-05, "policy_loss": 1.6402740584453568e-05}, "num_steps_trained": 6300000, "sample_time_ms": 62711.228, "num_steps_sampled": 6300000, "load_time_ms": 1.205, "grad_time_ms": 22190.29}, "date": "2019-07-23_09-03-41", "episode_reward_min": 680.5404465201127, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8910.677511930466}
{"episodes_this_iter": 22, "time_since_restore": 8994.86672949791, "episode_reward_max": 3055.1703267172343, "timesteps_since_restore": 6360000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 106, "custom_metrics": {}, "training_iteration": 106, "episode_reward_mean": 2145.350304231226, "policy_reward_mean": {}, "timesteps_total": 6360000, "episodes_total": 2114, "timestamp": 1563897905, "time_this_iter_s": 84.18921756744385, "info": {"update_time_ms": 4.272, "default": {"vf_explained_var": 0.0019007715163752437, "kl": 0.005110766272991896, "total_loss": 349.6821594238281, "cur_kl_coeff": 3.231175038157242e-28, "entropy": -1.0011152029037476, "vf_loss": 349.6822814941406, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00010345506598241627}, "num_steps_trained": 6360000, "sample_time_ms": 62529.588, "num_steps_sampled": 6360000, "load_time_ms": 1.209, "grad_time_ms": 22201.645}, "date": "2019-07-23_09-05-05", "episode_reward_min": 879.307219391769, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 8994.86672949791}
{"episodes_this_iter": 22, "time_since_restore": 9080.546661376953, "episode_reward_max": 3055.1703267172343, "timesteps_since_restore": 6420000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 107, "custom_metrics": {}, "training_iteration": 107, "episode_reward_mean": 2185.2570434690133, "policy_reward_mean": {}, "timesteps_total": 6420000, "episodes_total": 2136, "timestamp": 1563897991, "time_this_iter_s": 85.67993187904358, "info": {"update_time_ms": 4.343, "default": {"vf_explained_var": 0.005289841443300247, "kl": 0.005398607812821865, "total_loss": 375.6214599609375, "cur_kl_coeff": 1.615587519078621e-28, "entropy": -1.0758225917816162, "vf_loss": 375.6215515136719, "cur_lr": 4.999999873689376e-05, "policy_loss": -8.690077083883807e-05}, "num_steps_trained": 6420000, "sample_time_ms": 62523.718, "num_steps_sampled": 6420000, "load_time_ms": 1.197, "grad_time_ms": 22199.006}, "date": "2019-07-23_09-06-31", "episode_reward_min": 879.307219391769, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9080.546661376953}
{"episodes_this_iter": 21, "time_since_restore": 9166.877387523651, "episode_reward_max": 3055.1703267172343, "timesteps_since_restore": 6480000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 108, "custom_metrics": {}, "training_iteration": 108, "episode_reward_mean": 2200.0627462918196, "policy_reward_mean": {}, "timesteps_total": 6480000, "episodes_total": 2157, "timestamp": 1563898077, "time_this_iter_s": 86.330726146698, "info": {"update_time_ms": 4.336, "default": {"vf_explained_var": 1.1721482223947532e-05, "kl": 0.003543194616213441, "total_loss": 296.0037841796875, "cur_kl_coeff": 8.077937595393105e-29, "entropy": -0.9580394625663757, "vf_loss": 296.0038757324219, "cur_lr": 4.999999873689376e-05, "policy_loss": -8.981987048173323e-05}, "num_steps_trained": 6480000, "sample_time_ms": 62548.248, "num_steps_sampled": 6480000, "load_time_ms": 1.19, "grad_time_ms": 22208.939}, "date": "2019-07-23_09-07-57", "episode_reward_min": 897.2401533872234, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9166.877387523651}
{"episodes_this_iter": 21, "time_since_restore": 9253.418640136719, "episode_reward_max": 3055.1703267172343, "timesteps_since_restore": 6540000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 109, "custom_metrics": {}, "training_iteration": 109, "episode_reward_mean": 2206.251334926025, "policy_reward_mean": {}, "timesteps_total": 6540000, "episodes_total": 2178, "timestamp": 1563898164, "time_this_iter_s": 86.54125261306763, "info": {"update_time_ms": 4.444, "default": {"vf_explained_var": 3.451465602211101e-07, "kl": 0.005190049763768911, "total_loss": 344.00970458984375, "cur_kl_coeff": 4.0389687976965526e-29, "entropy": -1.0891892910003662, "vf_loss": 344.0097351074219, "cur_lr": 4.999999873689376e-05, "policy_loss": -1.9388511645956896e-05}, "num_steps_trained": 6540000, "sample_time_ms": 62662.165, "num_steps_sampled": 6540000, "load_time_ms": 1.162, "grad_time_ms": 22197.434}, "date": "2019-07-23_09-09-24", "episode_reward_min": 955.4778127977005, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9253.418640136719}
{"episodes_this_iter": 14, "time_since_restore": 9334.30063533783, "episode_reward_max": 3014.851675062243, "timesteps_since_restore": 6600000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 110, "custom_metrics": {}, "training_iteration": 110, "episode_reward_mean": 2183.1301937837775, "policy_reward_mean": {}, "timesteps_total": 6600000, "episodes_total": 2192, "timestamp": 1563898245, "time_this_iter_s": 80.88199520111084, "info": {"update_time_ms": 4.473, "default": {"vf_explained_var": 0.018005257472395897, "kl": 0.0067752934992313385, "total_loss": 320.9961242675781, "cur_kl_coeff": 2.0194843988482763e-29, "entropy": -1.0043331384658813, "vf_loss": 320.9962463378906, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00015152290870901197}, "num_steps_trained": 6600000, "sample_time_ms": 62454.882, "num_steps_sampled": 6600000, "load_time_ms": 1.167, "grad_time_ms": 22188.807}, "date": "2019-07-23_09-10-45", "episode_reward_min": 955.4778127977005, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9334.30063533783}
{"episodes_this_iter": 22, "time_since_restore": 9420.642581939697, "episode_reward_max": 3042.3427815068794, "timesteps_since_restore": 6660000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 111, "custom_metrics": {}, "training_iteration": 111, "episode_reward_mean": 2220.383548395037, "policy_reward_mean": {}, "timesteps_total": 6660000, "episodes_total": 2214, "timestamp": 1563898331, "time_this_iter_s": 86.34194660186768, "info": {"update_time_ms": 4.378, "default": {"vf_explained_var": 3.9889260960990214e-07, "kl": 0.013789646327495575, "total_loss": 429.2381286621094, "cur_kl_coeff": 1.0097421994241382e-29, "entropy": -1.178218960762024, "vf_loss": 429.2390441894531, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0009552676929160953}, "num_steps_trained": 6660000, "sample_time_ms": 62591.609, "num_steps_sampled": 6660000, "load_time_ms": 1.165, "grad_time_ms": 22177.096}, "date": "2019-07-23_09-12-11", "episode_reward_min": 1084.781432825454, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9420.642581939697}
{"episodes_this_iter": 22, "time_since_restore": 9507.815982818604, "episode_reward_max": 3042.3427815068794, "timesteps_since_restore": 6720000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 112, "custom_metrics": {}, "training_iteration": 112, "episode_reward_mean": 2219.7669568303168, "policy_reward_mean": {}, "timesteps_total": 6720000, "episodes_total": 2236, "timestamp": 1563898418, "time_this_iter_s": 87.17340087890625, "info": {"update_time_ms": 4.497, "default": {"vf_explained_var": 3.2285848305946274e-07, "kl": 0.005683756899088621, "total_loss": 400.79840087890625, "cur_kl_coeff": 1.0097421994241382e-29, "entropy": -1.1694709062576294, "vf_loss": 400.7980651855469, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00031366891926154494}, "num_steps_trained": 6720000, "sample_time_ms": 62756.498, "num_steps_sampled": 6720000, "load_time_ms": 1.173, "grad_time_ms": 22162.995}, "date": "2019-07-23_09-13-38", "episode_reward_min": 1129.8504045443121, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9507.815982818604}
{"episodes_this_iter": 21, "time_since_restore": 9595.074669599533, "episode_reward_max": 3042.3427815068794, "timesteps_since_restore": 6780000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 113, "custom_metrics": {}, "training_iteration": 113, "episode_reward_mean": 2280.835491071354, "policy_reward_mean": {}, "timesteps_total": 6780000, "episodes_total": 2257, "timestamp": 1563898506, "time_this_iter_s": 87.25868678092957, "info": {"update_time_ms": 4.511, "default": {"vf_explained_var": 0.001404951442964375, "kl": 0.005665154196321964, "total_loss": 381.03741455078125, "cur_kl_coeff": 5.048710997120691e-30, "entropy": -1.146610975265503, "vf_loss": 381.0372619628906, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00017073139315471053}, "num_steps_trained": 6780000, "sample_time_ms": 62957.084, "num_steps_sampled": 6780000, "load_time_ms": 1.183, "grad_time_ms": 22161.232}, "date": "2019-07-23_09-15-06", "episode_reward_min": 1129.8504045443121, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9595.074669599533}
{"episodes_this_iter": 21, "time_since_restore": 9680.922204256058, "episode_reward_max": 3042.3427815068794, "timesteps_since_restore": 6840000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 114, "custom_metrics": {}, "training_iteration": 114, "episode_reward_mean": 2296.540332503555, "policy_reward_mean": {}, "timesteps_total": 6840000, "episodes_total": 2278, "timestamp": 1563898592, "time_this_iter_s": 85.84753465652466, "info": {"update_time_ms": 4.608, "default": {"vf_explained_var": 0.10547788441181183, "kl": 0.0070119923911988735, "total_loss": 386.1351013183594, "cur_kl_coeff": 2.5243554985603454e-30, "entropy": -1.154937505722046, "vf_loss": 386.135498046875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00035139950341545045}, "num_steps_trained": 6840000, "sample_time_ms": 62949.052, "num_steps_sampled": 6840000, "load_time_ms": 1.181, "grad_time_ms": 22157.933}, "date": "2019-07-23_09-16-32", "episode_reward_min": 859.5775426022744, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9680.922204256058}
{"episodes_this_iter": 14, "time_since_restore": 9761.535420656204, "episode_reward_max": 3042.3427815068794, "timesteps_since_restore": 6900000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 115, "custom_metrics": {}, "training_iteration": 115, "episode_reward_mean": 2322.686324970417, "policy_reward_mean": {}, "timesteps_total": 6900000, "episodes_total": 2292, "timestamp": 1563898672, "time_this_iter_s": 80.61321640014648, "info": {"update_time_ms": 4.527, "default": {"vf_explained_var": 0.04705532640218735, "kl": 0.006656683515757322, "total_loss": 369.328125, "cur_kl_coeff": 1.2621777492801727e-30, "entropy": -1.1695173978805542, "vf_loss": 369.3282470703125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00016241094272118062}, "num_steps_trained": 6900000, "sample_time_ms": 62881.398, "num_steps_sampled": 6900000, "load_time_ms": 1.18, "grad_time_ms": 22161.785}, "date": "2019-07-23_09-17-52", "episode_reward_min": 859.5775426022744, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9761.535420656204}
{"episodes_this_iter": 22, "time_since_restore": 9847.234733104706, "episode_reward_max": 2998.9867496153884, "timesteps_since_restore": 6960000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 116, "custom_metrics": {}, "training_iteration": 116, "episode_reward_mean": 2297.014348537985, "policy_reward_mean": {}, "timesteps_total": 6960000, "episodes_total": 2314, "timestamp": 1563898758, "time_this_iter_s": 85.69931244850159, "info": {"update_time_ms": 4.735, "default": {"vf_explained_var": 0.0001746256893966347, "kl": 0.00594558659940958, "total_loss": 365.82177734375, "cur_kl_coeff": 6.3108887464008635e-31, "entropy": -1.1551669836044312, "vf_loss": 365.82183837890625, "cur_lr": 4.999999873689376e-05, "policy_loss": -7.192981865955517e-05}, "num_steps_trained": 6960000, "sample_time_ms": 63030.396, "num_steps_sampled": 6960000, "load_time_ms": 1.195, "grad_time_ms": 22163.663}, "date": "2019-07-23_09-19-18", "episode_reward_min": 803.000080804101, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9847.234733104706}
{"episodes_this_iter": 22, "time_since_restore": 9933.036540031433, "episode_reward_max": 2965.3031833344935, "timesteps_since_restore": 7020000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 117, "custom_metrics": {}, "training_iteration": 117, "episode_reward_mean": 2282.973426748728, "policy_reward_mean": {}, "timesteps_total": 7020000, "episodes_total": 2336, "timestamp": 1563898844, "time_this_iter_s": 85.8018069267273, "info": {"update_time_ms": 4.622, "default": {"vf_explained_var": 0.0044575645588338375, "kl": 0.012979240156710148, "total_loss": 365.0247802734375, "cur_kl_coeff": 3.1554443732004317e-31, "entropy": -1.1301056146621704, "vf_loss": 365.026123046875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0012814333895221353}, "num_steps_trained": 7020000, "sample_time_ms": 63041.924, "num_steps_sampled": 7020000, "load_time_ms": 1.212, "grad_time_ms": 22164.278}, "date": "2019-07-23_09-20-44", "episode_reward_min": 803.000080804101, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 9933.036540031433}
{"episodes_this_iter": 21, "time_since_restore": 10020.202371358871, "episode_reward_max": 3038.296515293255, "timesteps_since_restore": 7080000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 118, "custom_metrics": {}, "training_iteration": 118, "episode_reward_mean": 2251.7028500284327, "policy_reward_mean": {}, "timesteps_total": 7080000, "episodes_total": 2357, "timestamp": 1563898931, "time_this_iter_s": 87.16583132743835, "info": {"update_time_ms": 4.521, "default": {"vf_explained_var": 0.014682924374938011, "kl": 0.005726381205022335, "total_loss": 349.923583984375, "cur_kl_coeff": 3.1554443732004317e-31, "entropy": -1.045026183128357, "vf_loss": 349.92333984375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00023397293989546597}, "num_steps_trained": 7080000, "sample_time_ms": 63124.326, "num_steps_sampled": 7080000, "load_time_ms": 1.211, "grad_time_ms": 22165.553}, "date": "2019-07-23_09-22-11", "episode_reward_min": 602.9139448101702, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10020.202371358871}
{"episodes_this_iter": 21, "time_since_restore": 10107.353014707565, "episode_reward_max": 3038.296515293255, "timesteps_since_restore": 7140000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 119, "custom_metrics": {}, "training_iteration": 119, "episode_reward_mean": 2211.6570879893525, "policy_reward_mean": {}, "timesteps_total": 7140000, "episodes_total": 2378, "timestamp": 1563899018, "time_this_iter_s": 87.15064334869385, "info": {"update_time_ms": 4.379, "default": {"vf_explained_var": 0.053795527666807175, "kl": 0.005675631575286388, "total_loss": 360.12689208984375, "cur_kl_coeff": 1.5777221866002159e-31, "entropy": -1.0575940608978271, "vf_loss": 360.12762451171875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0007366568897850811}, "num_steps_trained": 7140000, "sample_time_ms": 63183.523, "num_steps_sampled": 7140000, "load_time_ms": 1.213, "grad_time_ms": 22167.402}, "date": "2019-07-23_09-23-38", "episode_reward_min": 602.9139448101702, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10107.353014707565}
{"episodes_this_iter": 14, "time_since_restore": 10190.063992023468, "episode_reward_max": 3038.296515293255, "timesteps_since_restore": 7200000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 120, "custom_metrics": {}, "training_iteration": 120, "episode_reward_mean": 2215.3955794761177, "policy_reward_mean": {}, "timesteps_total": 7200000, "episodes_total": 2392, "timestamp": 1563899101, "time_this_iter_s": 82.71097731590271, "info": {"update_time_ms": 4.464, "default": {"vf_explained_var": 0.08892717212438583, "kl": 0.005381300114095211, "total_loss": 371.4070739746094, "cur_kl_coeff": 7.888610933001079e-32, "entropy": -1.2269424200057983, "vf_loss": 371.4064636230469, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.000608184898737818}, "num_steps_trained": 7200000, "sample_time_ms": 63352.556, "num_steps_sampled": 7200000, "load_time_ms": 1.214, "grad_time_ms": 22181.044}, "date": "2019-07-23_09-25-01", "episode_reward_min": 602.9139448101702, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10190.063992023468}
{"episodes_this_iter": 22, "time_since_restore": 10277.387164115906, "episode_reward_max": 3047.703628835966, "timesteps_since_restore": 7260000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 121, "custom_metrics": {}, "training_iteration": 121, "episode_reward_mean": 2219.5095661189316, "policy_reward_mean": {}, "timesteps_total": 7260000, "episodes_total": 2414, "timestamp": 1563899188, "time_this_iter_s": 87.32317209243774, "info": {"update_time_ms": 4.475, "default": {"vf_explained_var": 0.378721684217453, "kl": 0.006025328766554594, "total_loss": 361.6475830078125, "cur_kl_coeff": 3.9443054665005397e-32, "entropy": -1.0631914138793945, "vf_loss": 361.647705078125, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.00015137057926040143}, "num_steps_trained": 7260000, "sample_time_ms": 63448.597, "num_steps_sampled": 7260000, "load_time_ms": 1.218, "grad_time_ms": 22182.968}, "date": "2019-07-23_09-26-28", "episode_reward_min": 602.9139448101702, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10277.387164115906}
{"episodes_this_iter": 22, "time_since_restore": 10363.289668798447, "episode_reward_max": 3047.703628835966, "timesteps_since_restore": 7320000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 122, "custom_metrics": {}, "training_iteration": 122, "episode_reward_mean": 2138.902867351609, "policy_reward_mean": {}, "timesteps_total": 7320000, "episodes_total": 2436, "timestamp": 1563899274, "time_this_iter_s": 85.9025046825409, "info": {"update_time_ms": 4.385, "default": {"vf_explained_var": 0.02603807859122753, "kl": 0.004249755758792162, "total_loss": 311.36602783203125, "cur_kl_coeff": 1.9721527332502698e-32, "entropy": -0.9998254776000977, "vf_loss": 311.3656311035156, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0004284476162865758}, "num_steps_trained": 7320000, "sample_time_ms": 63311.853, "num_steps_sampled": 7320000, "load_time_ms": 1.215, "grad_time_ms": 22192.771}, "date": "2019-07-23_09-27-54", "episode_reward_min": 308.9167374210663, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10363.289668798447}
{"episodes_this_iter": 22, "time_since_restore": 10450.659927606583, "episode_reward_max": 3047.703628835966, "timesteps_since_restore": 7380000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 123, "custom_metrics": {}, "training_iteration": 123, "episode_reward_mean": 2137.1574739376865, "policy_reward_mean": {}, "timesteps_total": 7380000, "episodes_total": 2458, "timestamp": 1563899362, "time_this_iter_s": 87.37025880813599, "info": {"update_time_ms": 4.504, "default": {"vf_explained_var": 0.0031955898739397526, "kl": 0.006904285866767168, "total_loss": 368.8868713378906, "cur_kl_coeff": 9.860763666251349e-33, "entropy": -1.1782532930374146, "vf_loss": 368.88787841796875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0010177517542615533}, "num_steps_trained": 7380000, "sample_time_ms": 63307.203, "num_steps_sampled": 7380000, "load_time_ms": 1.205, "grad_time_ms": 22208.536}, "date": "2019-07-23_09-29-22", "episode_reward_min": 308.9167374210663, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10450.659927606583}
{"episodes_this_iter": 20, "time_since_restore": 10536.409815311432, "episode_reward_max": 3047.703628835966, "timesteps_since_restore": 7440000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 124, "custom_metrics": {}, "training_iteration": 124, "episode_reward_mean": 2153.735376208044, "policy_reward_mean": {}, "timesteps_total": 7440000, "episodes_total": 2478, "timestamp": 1563899447, "time_this_iter_s": 85.74988770484924, "info": {"update_time_ms": 4.463, "default": {"vf_explained_var": 0.0005663259071297944, "kl": 0.006377944257110357, "total_loss": 320.0301818847656, "cur_kl_coeff": 4.9303818331256746e-33, "entropy": -1.0926258563995361, "vf_loss": 320.0301818847656, "cur_lr": 4.999999873689376e-05, "policy_loss": -5.972181497782003e-06}, "num_steps_trained": 7440000, "sample_time_ms": 63312.13, "num_steps_sampled": 7440000, "load_time_ms": 1.197, "grad_time_ms": 22193.716}, "date": "2019-07-23_09-30-47", "episode_reward_min": 308.9167374210663, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10536.409815311432}
{"episodes_this_iter": 13, "time_since_restore": 10615.801123857498, "episode_reward_max": 3047.703628835966, "timesteps_since_restore": 7500000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 125, "custom_metrics": {}, "training_iteration": 125, "episode_reward_mean": 2125.3345241946404, "policy_reward_mean": {}, "timesteps_total": 7500000, "episodes_total": 2491, "timestamp": 1563899527, "time_this_iter_s": 79.39130854606628, "info": {"update_time_ms": 4.316, "default": {"vf_explained_var": 0.007821447215974331, "kl": 0.006215742323547602, "total_loss": 303.7381896972656, "cur_kl_coeff": 2.4651909165628373e-33, "entropy": -1.1026151180267334, "vf_loss": 303.7383117675781, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0001753064279910177}, "num_steps_trained": 7500000, "sample_time_ms": 63214.033, "num_steps_sampled": 7500000, "load_time_ms": 1.199, "grad_time_ms": 22169.729}, "date": "2019-07-23_09-32-07", "episode_reward_min": 308.9167374210663, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10615.801123857498}
{"episodes_this_iter": 22, "time_since_restore": 10699.643613576889, "episode_reward_max": 2962.458057058846, "timesteps_since_restore": 7560000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 126, "custom_metrics": {}, "training_iteration": 126, "episode_reward_mean": 2098.4175564442676, "policy_reward_mean": {}, "timesteps_total": 7560000, "episodes_total": 2513, "timestamp": 1563899611, "time_this_iter_s": 83.84248971939087, "info": {"update_time_ms": 4.032, "default": {"vf_explained_var": 8.492171764373779e-05, "kl": 0.0067311725579202175, "total_loss": 370.6922302246094, "cur_kl_coeff": 1.2325954582814187e-33, "entropy": -1.2094827890396118, "vf_loss": 370.6922302246094, "cur_lr": 4.999999873689376e-05, "policy_loss": -9.484780093771406e-06}, "num_steps_trained": 7560000, "sample_time_ms": 63018.688, "num_steps_sampled": 7560000, "load_time_ms": 1.179, "grad_time_ms": 22179.71}, "date": "2019-07-23_09-33-31", "episode_reward_min": 308.9167374210663, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10699.643613576889}
{"episodes_this_iter": 22, "time_since_restore": 10783.769943714142, "episode_reward_max": 3017.796033724126, "timesteps_since_restore": 7620000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 127, "custom_metrics": {}, "training_iteration": 127, "episode_reward_mean": 2143.4781221354847, "policy_reward_mean": {}, "timesteps_total": 7620000, "episodes_total": 2535, "timestamp": 1563899695, "time_this_iter_s": 84.12633013725281, "info": {"update_time_ms": 4.154, "default": {"vf_explained_var": 0.01588098146021366, "kl": 0.00497529748827219, "total_loss": 338.1806945800781, "cur_kl_coeff": 6.162977291407093e-34, "entropy": -1.1725292205810547, "vf_loss": 338.1802673339844, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00041697476990520954}, "num_steps_trained": 7620000, "sample_time_ms": 62861.116, "num_steps_sampled": 7620000, "load_time_ms": 1.166, "grad_time_ms": 22169.811}, "date": "2019-07-23_09-34-55", "episode_reward_min": 786.9434338298995, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10783.769943714142}
{"episodes_this_iter": 22, "time_since_restore": 10867.917259931564, "episode_reward_max": 3017.796033724126, "timesteps_since_restore": 7680000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 128, "custom_metrics": {}, "training_iteration": 128, "episode_reward_mean": 2150.894234856386, "policy_reward_mean": {}, "timesteps_total": 7680000, "episodes_total": 2557, "timestamp": 1563899779, "time_this_iter_s": 84.14731621742249, "info": {"update_time_ms": 4.198, "default": {"vf_explained_var": 7.923469820525497e-05, "kl": 0.007421912159770727, "total_loss": 376.9563903808594, "cur_kl_coeff": 3.0814886457035466e-34, "entropy": -1.2650609016418457, "vf_loss": 376.9570007324219, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0005720642511732876}, "num_steps_trained": 7680000, "sample_time_ms": 62559.928, "num_steps_sampled": 7680000, "load_time_ms": 1.173, "grad_time_ms": 22168.937}, "date": "2019-07-23_09-36-19", "episode_reward_min": 794.9489045479532, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10867.917259931564}
{"episodes_this_iter": 22, "time_since_restore": 10955.201652050018, "episode_reward_max": 3053.2359343121866, "timesteps_since_restore": 7740000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 129, "custom_metrics": {}, "training_iteration": 129, "episode_reward_mean": 2220.6265088110995, "policy_reward_mean": {}, "timesteps_total": 7740000, "episodes_total": 2579, "timestamp": 1563899866, "time_this_iter_s": 87.28439211845398, "info": {"update_time_ms": 4.275, "default": {"vf_explained_var": 0.003733587684109807, "kl": 0.007658891845494509, "total_loss": 423.53045654296875, "cur_kl_coeff": 1.5407443228517733e-34, "entropy": -1.4609471559524536, "vf_loss": 423.5298156738281, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0006696324562653899}, "num_steps_trained": 7740000, "sample_time_ms": 62573.242, "num_steps_sampled": 7740000, "load_time_ms": 1.166, "grad_time_ms": 22168.968}, "date": "2019-07-23_09-37-46", "episode_reward_min": 794.9489045479532, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 10955.201652050018}
{"episodes_this_iter": 14, "time_since_restore": 11038.493668556213, "episode_reward_max": 3053.2359343121866, "timesteps_since_restore": 7800000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 130, "custom_metrics": {}, "training_iteration": 130, "episode_reward_mean": 2184.008413320607, "policy_reward_mean": {}, "timesteps_total": 7800000, "episodes_total": 2593, "timestamp": 1563899950, "time_this_iter_s": 83.29201650619507, "info": {"update_time_ms": 4.31, "default": {"vf_explained_var": 0.23939377069473267, "kl": 0.005843780003488064, "total_loss": 297.0997619628906, "cur_kl_coeff": 7.703721614258867e-35, "entropy": -1.0364943742752075, "vf_loss": 297.1001892089844, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0004433789581526071}, "num_steps_trained": 7800000, "sample_time_ms": 62637.855, "num_steps_sampled": 7800000, "load_time_ms": 1.157, "grad_time_ms": 22162.49}, "date": "2019-07-23_09-39-10", "episode_reward_min": 613.5115817268422, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11038.493668556213}
{"episodes_this_iter": 22, "time_since_restore": 11124.449037313461, "episode_reward_max": 3053.2359343121866, "timesteps_since_restore": 7860000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 131, "custom_metrics": {}, "training_iteration": 131, "episode_reward_mean": 2118.013347443913, "policy_reward_mean": {}, "timesteps_total": 7860000, "episodes_total": 2615, "timestamp": 1563900036, "time_this_iter_s": 85.95536875724792, "info": {"update_time_ms": 4.228, "default": {"vf_explained_var": 0.022334778681397438, "kl": 0.007045510690659285, "total_loss": 274.4515686035156, "cur_kl_coeff": 3.8518608071294333e-35, "entropy": -0.9482795596122742, "vf_loss": 274.4513854980469, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00017252916586585343}, "num_steps_trained": 7860000, "sample_time_ms": 62493.413, "num_steps_sampled": 7860000, "load_time_ms": 1.147, "grad_time_ms": 22170.387}, "date": "2019-07-23_09-40-36", "episode_reward_min": 613.5115817268422, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11124.449037313461}
{"episodes_this_iter": 22, "time_since_restore": 11211.244343042374, "episode_reward_max": 3078.9498852498905, "timesteps_since_restore": 7920000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 132, "custom_metrics": {}, "training_iteration": 132, "episode_reward_mean": 2149.4750974458257, "policy_reward_mean": {}, "timesteps_total": 7920000, "episodes_total": 2637, "timestamp": 1563900122, "time_this_iter_s": 86.79530572891235, "info": {"update_time_ms": 4.169, "default": {"vf_explained_var": 0.12557053565979004, "kl": 0.006273457780480385, "total_loss": 394.054931640625, "cur_kl_coeff": 1.9259304035647166e-35, "entropy": -1.3055658340454102, "vf_loss": 394.05426025390625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0006683985702693462}, "num_steps_trained": 7920000, "sample_time_ms": 62589.29, "num_steps_sampled": 7920000, "load_time_ms": 1.148, "grad_time_ms": 22163.631}, "date": "2019-07-23_09-42-02", "episode_reward_min": 613.5115817268422, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11211.244343042374}
{"episodes_this_iter": 22, "time_since_restore": 11298.543310642242, "episode_reward_max": 3078.9498852498905, "timesteps_since_restore": 7980000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 133, "custom_metrics": {}, "training_iteration": 133, "episode_reward_mean": 2166.706773865113, "policy_reward_mean": {}, "timesteps_total": 7980000, "episodes_total": 2659, "timestamp": 1563900210, "time_this_iter_s": 87.29896759986877, "info": {"update_time_ms": 4.15, "default": {"vf_explained_var": 0.11837542057037354, "kl": 0.0074436115100979805, "total_loss": 383.0273132324219, "cur_kl_coeff": 9.629652017823583e-36, "entropy": -1.2908343076705933, "vf_loss": 383.02655029296875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0007738918648101389}, "num_steps_trained": 7980000, "sample_time_ms": 62588.984, "num_steps_sampled": 7980000, "load_time_ms": 1.135, "grad_time_ms": 22156.779}, "date": "2019-07-23_09-43-30", "episode_reward_min": 613.5115817268422, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11298.543310642242}
{"episodes_this_iter": 14, "time_since_restore": 11381.819041013718, "episode_reward_max": 3078.9498852498905, "timesteps_since_restore": 8040000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 134, "custom_metrics": {}, "training_iteration": 134, "episode_reward_mean": 2132.6114477268497, "policy_reward_mean": {}, "timesteps_total": 8040000, "episodes_total": 2673, "timestamp": 1563900293, "time_this_iter_s": 83.27573037147522, "info": {"update_time_ms": 4.219, "default": {"vf_explained_var": 0.0020074336789548397, "kl": 0.007433746010065079, "total_loss": 361.8498840332031, "cur_kl_coeff": 4.8148260089117916e-36, "entropy": -1.3488742113113403, "vf_loss": 361.8492126464844, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0006898141000419855}, "num_steps_trained": 8040000, "sample_time_ms": 62333.383, "num_steps_sampled": 8040000, "load_time_ms": 1.134, "grad_time_ms": 22164.952}, "date": "2019-07-23_09-44-53", "episode_reward_min": 613.5115817268422, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11381.819041013718}
{"episodes_this_iter": 21, "time_since_restore": 11468.18588757515, "episode_reward_max": 3078.9498852498905, "timesteps_since_restore": 8100000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 135, "custom_metrics": {}, "training_iteration": 135, "episode_reward_mean": 2175.839662502203, "policy_reward_mean": {}, "timesteps_total": 8100000, "episodes_total": 2694, "timestamp": 1563900379, "time_this_iter_s": 86.36684656143188, "info": {"update_time_ms": 4.14, "default": {"vf_explained_var": 0.005056263878941536, "kl": 0.008177000097930431, "total_loss": 383.54400634765625, "cur_kl_coeff": 2.4074130044558958e-36, "entropy": -1.3891714811325073, "vf_loss": 383.54412841796875, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0001572194742038846}, "num_steps_trained": 8100000, "sample_time_ms": 63021.127, "num_steps_sampled": 8100000, "load_time_ms": 1.136, "grad_time_ms": 22174.796}, "date": "2019-07-23_09-46-19", "episode_reward_min": 641.0432771650301, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11468.18588757515}
{"episodes_this_iter": 22, "time_since_restore": 11555.210228204727, "episode_reward_max": 3078.9498852498905, "timesteps_since_restore": 8160000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 136, "custom_metrics": {}, "training_iteration": 136, "episode_reward_mean": 2262.915548940204, "policy_reward_mean": {}, "timesteps_total": 8160000, "episodes_total": 2716, "timestamp": 1563900466, "time_this_iter_s": 87.02434062957764, "info": {"update_time_ms": 4.195, "default": {"vf_explained_var": 0.021808691322803497, "kl": 0.008426813408732414, "total_loss": 397.4167785644531, "cur_kl_coeff": 1.2037065022279479e-36, "entropy": -1.3981088399887085, "vf_loss": 397.4159851074219, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0007679595146328211}, "num_steps_trained": 8160000, "sample_time_ms": 63353.743, "num_steps_sampled": 8160000, "load_time_ms": 1.144, "grad_time_ms": 22159.741}, "date": "2019-07-23_09-47-46", "episode_reward_min": 641.0432771650301, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11555.210228204727}
{"episodes_this_iter": 20, "time_since_restore": 11639.12044262886, "episode_reward_max": 3049.6420636830558, "timesteps_since_restore": 8220000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 137, "custom_metrics": {}, "training_iteration": 137, "episode_reward_mean": 2277.406287765183, "policy_reward_mean": {}, "timesteps_total": 8220000, "episodes_total": 2736, "timestamp": 1563900550, "time_this_iter_s": 83.9102144241333, "info": {"update_time_ms": 4.228, "default": {"vf_explained_var": 0.03349746763706207, "kl": 0.007274122443050146, "total_loss": 388.745849609375, "cur_kl_coeff": 6.0185325111397395e-37, "entropy": -1.3247421979904175, "vf_loss": 388.746337890625, "cur_lr": 4.999999873689376e-05, "policy_loss": -0.0004432514833752066}, "num_steps_trained": 8220000, "sample_time_ms": 63314.06, "num_steps_sampled": 8220000, "load_time_ms": 1.153, "grad_time_ms": 22177.564}, "date": "2019-07-23_09-49-10", "episode_reward_min": 641.0432771650301, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11639.12044262886}
{"episodes_this_iter": 22, "time_since_restore": 11724.73446559906, "episode_reward_max": 3063.0366443631005, "timesteps_since_restore": 8280000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 138, "custom_metrics": {}, "training_iteration": 138, "episode_reward_mean": 2237.7037345887175, "policy_reward_mean": {}, "timesteps_total": 8280000, "episodes_total": 2758, "timestamp": 1563900636, "time_this_iter_s": 85.61402297019958, "info": {"update_time_ms": 4.4, "default": {"vf_explained_var": 0.20404760539531708, "kl": 0.006118673365563154, "total_loss": 330.1885070800781, "cur_kl_coeff": 3.0092662555698698e-37, "entropy": -1.037589430809021, "vf_loss": 330.1882019042969, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0003358490066602826}, "num_steps_trained": 8280000, "sample_time_ms": 63465.19, "num_steps_sampled": 8280000, "load_time_ms": 1.144, "grad_time_ms": 22173.115}, "date": "2019-07-23_09-50-36", "episode_reward_min": 539.3560547597727, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11724.73446559906}
{"episodes_this_iter": 15, "time_since_restore": 11808.73391032219, "episode_reward_max": 3063.0366443631005, "timesteps_since_restore": 8340000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 139, "custom_metrics": {}, "training_iteration": 139, "episode_reward_mean": 2199.0199227179137, "policy_reward_mean": {}, "timesteps_total": 8340000, "episodes_total": 2773, "timestamp": 1563900720, "time_this_iter_s": 83.99944472312927, "info": {"update_time_ms": 4.461, "default": {"vf_explained_var": 0.008898247964680195, "kl": 0.006775585934519768, "total_loss": 300.5828552246094, "cur_kl_coeff": 1.5046331277849349e-37, "entropy": -1.1387717723846436, "vf_loss": 300.5823059082031, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0006030613440088928}, "num_steps_trained": 8340000, "sample_time_ms": 63134.226, "num_steps_sampled": 8340000, "load_time_ms": 1.144, "grad_time_ms": 22175.341}, "date": "2019-07-23_09-52-00", "episode_reward_min": 539.3560547597727, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11808.73391032219}
{"episodes_this_iter": 22, "time_since_restore": 11896.077556848526, "episode_reward_max": 3063.0366443631005, "timesteps_since_restore": 8400000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 140, "custom_metrics": {}, "training_iteration": 140, "episode_reward_mean": 2200.3591002817075, "policy_reward_mean": {}, "timesteps_total": 8400000, "episodes_total": 2795, "timestamp": 1563900807, "time_this_iter_s": 87.34364652633667, "info": {"update_time_ms": 4.35, "default": {"vf_explained_var": 0.017101852223277092, "kl": 0.006654778961092234, "total_loss": 377.6755676269531, "cur_kl_coeff": 7.523165638924674e-38, "entropy": -1.2447105646133423, "vf_loss": 377.67413330078125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.001476811245083809}, "num_steps_trained": 8400000, "sample_time_ms": 63528.1, "num_steps_sampled": 8400000, "load_time_ms": 1.143, "grad_time_ms": 22186.688}, "date": "2019-07-23_09-53-27", "episode_reward_min": 539.3560547597727, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11896.077556848526}
{"episodes_this_iter": 21, "time_since_restore": 11982.580202579498, "episode_reward_max": 3063.0366443631005, "timesteps_since_restore": 8460000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 141, "custom_metrics": {}, "training_iteration": 141, "episode_reward_mean": 2139.494559378862, "policy_reward_mean": {}, "timesteps_total": 8460000, "episodes_total": 2816, "timestamp": 1563900894, "time_this_iter_s": 86.50264573097229, "info": {"update_time_ms": 4.629, "default": {"vf_explained_var": 5.8148660173173994e-05, "kl": 0.0077724396251142025, "total_loss": 366.76788330078125, "cur_kl_coeff": 3.761582819462337e-38, "entropy": -1.4007326364517212, "vf_loss": 366.7674255371094, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0004751577798742801}, "num_steps_trained": 8460000, "sample_time_ms": 63589.137, "num_steps_sampled": 8460000, "load_time_ms": 1.15, "grad_time_ms": 22180.052}, "date": "2019-07-23_09-54-54", "episode_reward_min": 539.3560547597727, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 11982.580202579498}
{"episodes_this_iter": 22, "time_since_restore": 12068.95435500145, "episode_reward_max": 3063.0366443631005, "timesteps_since_restore": 8520000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 142, "custom_metrics": {}, "training_iteration": 142, "episode_reward_mean": 2116.7448886607995, "policy_reward_mean": {}, "timesteps_total": 8520000, "episodes_total": 2838, "timestamp": 1563900980, "time_this_iter_s": 86.3741524219513, "info": {"update_time_ms": 4.669, "default": {"vf_explained_var": 0.1646423041820526, "kl": 0.007793208584189415, "total_loss": 335.21539306640625, "cur_kl_coeff": 1.8807914097311686e-38, "entropy": -1.2646633386611938, "vf_loss": 335.2148132324219, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0005366157274693251}, "num_steps_trained": 8520000, "sample_time_ms": 63544.538, "num_steps_sampled": 8520000, "load_time_ms": 1.149, "grad_time_ms": 22182.546}, "date": "2019-07-23_09-56-20", "episode_reward_min": 690.6659448685333, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12068.95435500145}
{"episodes_this_iter": 19, "time_since_restore": 12153.714726924896, "episode_reward_max": 3070.893711830803, "timesteps_since_restore": 8580000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 143, "custom_metrics": {}, "training_iteration": 143, "episode_reward_mean": 2166.280217691743, "policy_reward_mean": {}, "timesteps_total": 8580000, "episodes_total": 2857, "timestamp": 1563901065, "time_this_iter_s": 84.76037192344666, "info": {"update_time_ms": 4.804, "default": {"vf_explained_var": 2.5388012545590755e-06, "kl": 0.009813319891691208, "total_loss": 447.60498046875, "cur_kl_coeff": 9.403955647357379e-39, "entropy": -1.7946717739105225, "vf_loss": 447.603759765625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0012647757539525628}, "num_steps_trained": 8580000, "sample_time_ms": 63283.374, "num_steps_sampled": 8580000, "load_time_ms": 1.154, "grad_time_ms": 22189.718}, "date": "2019-07-23_09-57-45", "episode_reward_min": 690.6659448685333, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12153.714726924896}
{"episodes_this_iter": 15, "time_since_restore": 12234.750347137451, "episode_reward_max": 3070.893711830803, "timesteps_since_restore": 8640000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 144, "custom_metrics": {}, "training_iteration": 144, "episode_reward_mean": 2241.351668270218, "policy_reward_mean": {}, "timesteps_total": 8640000, "episodes_total": 2872, "timestamp": 1563901146, "time_this_iter_s": 81.03562021255493, "info": {"update_time_ms": 4.694, "default": {"vf_explained_var": 0.006956240627914667, "kl": 0.0062764170579612255, "total_loss": 339.1927795410156, "cur_kl_coeff": 4.701977123029457e-39, "entropy": -1.373626947402954, "vf_loss": 339.191162109375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0015956494025886059}, "num_steps_trained": 8640000, "sample_time_ms": 63058.244, "num_steps_sampled": 8640000, "load_time_ms": 1.15, "grad_time_ms": 22190.906}, "date": "2019-07-23_09-59-06", "episode_reward_min": 690.6659448685333, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12234.750347137451}
{"episodes_this_iter": 22, "time_since_restore": 12320.860422611237, "episode_reward_max": 3070.893711830803, "timesteps_since_restore": 8700000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 145, "custom_metrics": {}, "training_iteration": 145, "episode_reward_mean": 2223.9927056977413, "policy_reward_mean": {}, "timesteps_total": 8700000, "episodes_total": 2894, "timestamp": 1563901232, "time_this_iter_s": 86.1100754737854, "info": {"update_time_ms": 4.717, "default": {"vf_explained_var": 0.03923807293176651, "kl": 0.009256484918296337, "total_loss": 358.5790710449219, "cur_kl_coeff": 2.3509892621639607e-39, "entropy": -1.323227882385254, "vf_loss": 358.5778503417969, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0011804208625108004}, "num_steps_trained": 8700000, "sample_time_ms": 63031.141, "num_steps_sampled": 8700000, "load_time_ms": 1.146, "grad_time_ms": 22192.174}, "date": "2019-07-23_10-00-32", "episode_reward_min": 690.6659448685333, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12320.860422611237}
{"episodes_this_iter": 22, "time_since_restore": 12408.119836330414, "episode_reward_max": 3074.6229803145443, "timesteps_since_restore": 8760000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 146, "custom_metrics": {}, "training_iteration": 146, "episode_reward_mean": 2251.427064473787, "policy_reward_mean": {}, "timesteps_total": 8760000, "episodes_total": 2916, "timestamp": 1563901320, "time_this_iter_s": 87.25941371917725, "info": {"update_time_ms": 4.702, "default": {"vf_explained_var": 0.06581143289804459, "kl": 0.007916056551039219, "total_loss": 393.1595153808594, "cur_kl_coeff": 1.1754946310819804e-39, "entropy": -1.4885767698287964, "vf_loss": 393.15814208984375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0013620808022096753}, "num_steps_trained": 8760000, "sample_time_ms": 63061.825, "num_steps_sampled": 8760000, "load_time_ms": 1.142, "grad_time_ms": 22185.436}, "date": "2019-07-23_10-02-00", "episode_reward_min": 690.6659448685333, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12408.119836330414}
{"episodes_this_iter": 22, "time_since_restore": 12494.94360780716, "episode_reward_max": 3074.6229803145443, "timesteps_since_restore": 8820000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 147, "custom_metrics": {}, "training_iteration": 147, "episode_reward_mean": 2267.410758301507, "policy_reward_mean": {}, "timesteps_total": 8820000, "episodes_total": 2938, "timestamp": 1563901406, "time_this_iter_s": 86.8237714767456, "info": {"update_time_ms": 4.682, "default": {"vf_explained_var": 0.00120181601960212, "kl": 0.00953669659793377, "total_loss": 344.0861511230469, "cur_kl_coeff": 5.87746614891758e-40, "entropy": -1.360237717628479, "vf_loss": 344.0853576660156, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.000718861585482955}, "num_steps_trained": 8820000, "sample_time_ms": 63369.195, "num_steps_sampled": 8820000, "load_time_ms": 1.128, "grad_time_ms": 22169.538}, "date": "2019-07-23_10-03-26", "episode_reward_min": 877.2644157489884, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12494.94360780716}
{"episodes_this_iter": 19, "time_since_restore": 12579.206134796143, "episode_reward_max": 3078.613172765559, "timesteps_since_restore": 8880000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 148, "custom_metrics": {}, "training_iteration": 148, "episode_reward_mean": 2209.614370465757, "policy_reward_mean": {}, "timesteps_total": 8880000, "episodes_total": 2957, "timestamp": 1563901491, "time_this_iter_s": 84.26252698898315, "info": {"update_time_ms": 4.544, "default": {"vf_explained_var": 0.0171318668872118, "kl": 0.013387166894972324, "total_loss": 356.9634704589844, "cur_kl_coeff": 2.93873307445879e-40, "entropy": -1.4456455707550049, "vf_loss": 356.9630126953125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00046386398025788367}, "num_steps_trained": 8880000, "sample_time_ms": 63243.591, "num_steps_sampled": 8880000, "load_time_ms": 1.119, "grad_time_ms": 22160.005}, "date": "2019-07-23_10-04-51", "episode_reward_min": 877.2644157489884, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12579.206134796143}
{"episodes_this_iter": 15, "time_since_restore": 12662.461111307144, "episode_reward_max": 3078.613172765559, "timesteps_since_restore": 8940000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 149, "custom_metrics": {}, "training_iteration": 149, "episode_reward_mean": 2214.0040297537034, "policy_reward_mean": {}, "timesteps_total": 8940000, "episodes_total": 2972, "timestamp": 1563901574, "time_this_iter_s": 83.25497651100159, "info": {"update_time_ms": 4.591, "default": {"vf_explained_var": 0.00026743815396912396, "kl": 0.009732390753924847, "total_loss": 354.38995361328125, "cur_kl_coeff": 2.93873307445879e-40, "entropy": -1.5001510381698608, "vf_loss": 354.3885498046875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0013725184835493565}, "num_steps_trained": 8940000, "sample_time_ms": 63164.001, "num_steps_sampled": 8940000, "load_time_ms": 1.112, "grad_time_ms": 22165.271}, "date": "2019-07-23_10-06-14", "episode_reward_min": 877.2644157489884, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12662.461111307144}
{"episodes_this_iter": 22, "time_since_restore": 12748.420045375824, "episode_reward_max": 3078.613172765559, "timesteps_since_restore": 9000000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 150, "custom_metrics": {}, "training_iteration": 150, "episode_reward_mean": 2212.087424711001, "policy_reward_mean": {}, "timesteps_total": 9000000, "episodes_total": 2994, "timestamp": 1563901660, "time_this_iter_s": 85.95893406867981, "info": {"update_time_ms": 4.789, "default": {"vf_explained_var": 0.005710102617740631, "kl": 0.009624782018363476, "total_loss": 383.1680603027344, "cur_kl_coeff": 1.4693735437217167e-40, "entropy": -1.6029019355773926, "vf_loss": 383.1665344238281, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0015429295599460602}, "num_steps_trained": 9000000, "sample_time_ms": 63029.449, "num_steps_sampled": 9000000, "load_time_ms": 1.113, "grad_time_ms": 22161.197}, "date": "2019-07-23_10-07-40", "episode_reward_min": 798.2341969716928, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12748.420045375824}
{"episodes_this_iter": 22, "time_since_restore": 12834.37804532051, "episode_reward_max": 3078.613172765559, "timesteps_since_restore": 9060000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 151, "custom_metrics": {}, "training_iteration": 151, "episode_reward_mean": 2173.7910670808797, "policy_reward_mean": {}, "timesteps_total": 9060000, "episodes_total": 3016, "timestamp": 1563901746, "time_this_iter_s": 85.95799994468689, "info": {"update_time_ms": 4.538, "default": {"vf_explained_var": 0.019342221319675446, "kl": 0.009213190525770187, "total_loss": 340.07220458984375, "cur_kl_coeff": 7.346867718608583e-41, "entropy": -1.2592653036117554, "vf_loss": 340.07183837890625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00037180245271883905}, "num_steps_trained": 9060000, "sample_time_ms": 62966.854, "num_steps_sampled": 9060000, "load_time_ms": 1.11, "grad_time_ms": 22169.463}, "date": "2019-07-23_10-09-06", "episode_reward_min": 798.2341969716928, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12834.37804532051}
{"episodes_this_iter": 22, "time_since_restore": 12921.394657850266, "episode_reward_max": 3078.613172765559, "timesteps_since_restore": 9120000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 152, "custom_metrics": {}, "training_iteration": 152, "episode_reward_mean": 2220.3167081857086, "policy_reward_mean": {}, "timesteps_total": 9120000, "episodes_total": 3038, "timestamp": 1563901833, "time_this_iter_s": 87.01661252975464, "info": {"update_time_ms": 4.498, "default": {"vf_explained_var": 0.00012235788744874299, "kl": 0.014995772391557693, "total_loss": 396.7490539550781, "cur_kl_coeff": 3.6733637943810755e-41, "entropy": -1.7152705192565918, "vf_loss": 396.74481201171875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.004277550149708986}, "num_steps_trained": 9120000, "sample_time_ms": 63034.155, "num_steps_sampled": 9120000, "load_time_ms": 1.107, "grad_time_ms": 22166.62}, "date": "2019-07-23_10-10-33", "episode_reward_min": 798.2341969716928, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 12921.394657850266}
{"episodes_this_iter": 21, "time_since_restore": 13007.911745548248, "episode_reward_max": 3035.6554835573747, "timesteps_since_restore": 9180000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 153, "custom_metrics": {}, "training_iteration": 153, "episode_reward_mean": 2262.424308148392, "policy_reward_mean": {}, "timesteps_total": 9180000, "episodes_total": 3059, "timestamp": 1563901919, "time_this_iter_s": 86.51708769798279, "info": {"update_time_ms": 4.31, "default": {"vf_explained_var": 0.0027311949525028467, "kl": 0.014176529832184315, "total_loss": 404.9847412109375, "cur_kl_coeff": 3.6733637943810755e-41, "entropy": -1.6941269636154175, "vf_loss": 404.9833679199219, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.001397142419591546}, "num_steps_trained": 9180000, "sample_time_ms": 63211.866, "num_steps_sampled": 9180000, "load_time_ms": 1.107, "grad_time_ms": 22164.768}, "date": "2019-07-23_10-11-59", "episode_reward_min": 798.2341969716928, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13007.911745548248}
{"episodes_this_iter": 12, "time_since_restore": 13087.128603219986, "episode_reward_max": 3035.6554835573747, "timesteps_since_restore": 9240000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 154, "custom_metrics": {}, "training_iteration": 154, "episode_reward_mean": 2231.606255456468, "policy_reward_mean": {}, "timesteps_total": 9240000, "episodes_total": 3071, "timestamp": 1563901999, "time_this_iter_s": 79.21685767173767, "info": {"update_time_ms": 4.511, "default": {"vf_explained_var": 0.00350828911177814, "kl": 0.011703815311193466, "total_loss": 284.3665771484375, "cur_kl_coeff": 3.6733637943810755e-41, "entropy": -1.3397291898727417, "vf_loss": 284.3646545410156, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.001960844499990344}, "num_steps_trained": 9240000, "sample_time_ms": 63028.34, "num_steps_sampled": 9240000, "load_time_ms": 1.108, "grad_time_ms": 22166.287}, "date": "2019-07-23_10-13-19", "episode_reward_min": 798.2341969716928, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13087.128603219986}
{"episodes_this_iter": 22, "time_since_restore": 13171.580697774887, "episode_reward_max": 3035.6554835573747, "timesteps_since_restore": 9300000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 155, "custom_metrics": {}, "training_iteration": 155, "episode_reward_mean": 2193.0655302944438, "policy_reward_mean": {}, "timesteps_total": 9300000, "episodes_total": 3093, "timestamp": 1563902083, "time_this_iter_s": 84.45209455490112, "info": {"update_time_ms": 4.609, "default": {"vf_explained_var": 0.00016139994841068983, "kl": 0.009602929465472698, "total_loss": 363.3055419921875, "cur_kl_coeff": 3.6733637943810755e-41, "entropy": -1.5235909223556519, "vf_loss": 363.305419921875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00012616367894224823}, "num_steps_trained": 9300000, "sample_time_ms": 62860.457, "num_steps_sampled": 9300000, "load_time_ms": 1.096, "grad_time_ms": 22168.113}, "date": "2019-07-23_10-14-43", "episode_reward_min": 883.454423660561, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13171.580697774887}
{"episodes_this_iter": 22, "time_since_restore": 13255.896475315094, "episode_reward_max": 3047.632120945213, "timesteps_since_restore": 9360000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 156, "custom_metrics": {}, "training_iteration": 156, "episode_reward_mean": 2246.2774703599825, "policy_reward_mean": {}, "timesteps_total": 9360000, "episodes_total": 3115, "timestamp": 1563902168, "time_this_iter_s": 84.31577754020691, "info": {"update_time_ms": 4.618, "default": {"vf_explained_var": 0.0565735399723053, "kl": 0.012020689435303211, "total_loss": 366.2264709472656, "cur_kl_coeff": 1.8366818971905377e-41, "entropy": -1.49786376953125, "vf_loss": 366.22430419921875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.002203014912083745}, "num_steps_trained": 9360000, "sample_time_ms": 62548.193, "num_steps_sampled": 9360000, "load_time_ms": 1.101, "grad_time_ms": 22186.166}, "date": "2019-07-23_10-16-08", "episode_reward_min": 883.454423660561, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13255.896475315094}
{"episodes_this_iter": 22, "time_since_restore": 13340.054306983948, "episode_reward_max": 3047.632120945213, "timesteps_since_restore": 9420000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 157, "custom_metrics": {}, "training_iteration": 157, "episode_reward_mean": 2163.00340955612, "policy_reward_mean": {}, "timesteps_total": 9420000, "episodes_total": 3137, "timestamp": 1563902252, "time_this_iter_s": 84.15783166885376, "info": {"update_time_ms": 4.528, "default": {"vf_explained_var": 0.08165685832500458, "kl": 0.010778284631669521, "total_loss": 346.5229797363281, "cur_kl_coeff": 1.8366818971905377e-41, "entropy": -1.3889237642288208, "vf_loss": 346.5206298828125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.002315112156793475}, "num_steps_trained": 9420000, "sample_time_ms": 62266.945, "num_steps_sampled": 9420000, "load_time_ms": 1.097, "grad_time_ms": 22201.007}, "date": "2019-07-23_10-17-32", "episode_reward_min": 447.8477220154569, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13340.054306983948}
{"episodes_this_iter": 22, "time_since_restore": 13426.700441360474, "episode_reward_max": 3047.632120945213, "timesteps_since_restore": 9480000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 158, "custom_metrics": {}, "training_iteration": 158, "episode_reward_mean": 2118.276824326228, "policy_reward_mean": {}, "timesteps_total": 9480000, "episodes_total": 3159, "timestamp": 1563902338, "time_this_iter_s": 86.64613437652588, "info": {"update_time_ms": 4.555, "default": {"vf_explained_var": 0.0012299600057303905, "kl": 0.011474544182419777, "total_loss": 366.19757080078125, "cur_kl_coeff": 1.8366818971905377e-41, "entropy": -1.5554414987564087, "vf_loss": 366.19586181640625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0017292946577072144}, "num_steps_trained": 9480000, "sample_time_ms": 62486.129, "num_steps_sampled": 9480000, "load_time_ms": 1.112, "grad_time_ms": 22220.162}, "date": "2019-07-23_10-18-58", "episode_reward_min": 447.8477220154569, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13426.700441360474}
{"episodes_this_iter": 14, "time_since_restore": 13509.932587385178, "episode_reward_max": 3047.632120945213, "timesteps_since_restore": 9540000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 159, "custom_metrics": {}, "training_iteration": 159, "episode_reward_mean": 2110.05771455665, "policy_reward_mean": {}, "timesteps_total": 9540000, "episodes_total": 3173, "timestamp": 1563902422, "time_this_iter_s": 83.23214602470398, "info": {"update_time_ms": 4.433, "default": {"vf_explained_var": 0.03501931577920914, "kl": 0.013987773098051548, "total_loss": 318.1038513183594, "cur_kl_coeff": 1.8366818971905377e-41, "entropy": -1.4357715845108032, "vf_loss": 318.1008605957031, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0029948092997074127}, "num_steps_trained": 9540000, "sample_time_ms": 62485.338, "num_steps_sampled": 9540000, "load_time_ms": 1.136, "grad_time_ms": 22218.665}, "date": "2019-07-23_10-20-22", "episode_reward_min": 447.8477220154569, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13509.932587385178}
{"episodes_this_iter": 20, "time_since_restore": 13595.707554340363, "episode_reward_max": 3049.9807700872493, "timesteps_since_restore": 9600000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 160, "custom_metrics": {}, "training_iteration": 160, "episode_reward_mean": 2123.556741986876, "policy_reward_mean": {}, "timesteps_total": 9600000, "episodes_total": 3193, "timestamp": 1563902507, "time_this_iter_s": 85.77496695518494, "info": {"update_time_ms": 4.349, "default": {"vf_explained_var": 0.00025968559202738106, "kl": 0.009165624156594276, "total_loss": 325.099853515625, "cur_kl_coeff": 1.8366818971905377e-41, "entropy": -1.3739646673202515, "vf_loss": 325.0977783203125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0020701854955404997}, "num_steps_trained": 9600000, "sample_time_ms": 62472.135, "num_steps_sampled": 9600000, "load_time_ms": 1.138, "grad_time_ms": 22213.499}, "date": "2019-07-23_10-21-47", "episode_reward_min": 447.8477220154569, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13595.707554340363}
{"episodes_this_iter": 22, "time_since_restore": 13682.497797727585, "episode_reward_max": 3049.9807700872493, "timesteps_since_restore": 9660000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 161, "custom_metrics": {}, "training_iteration": 161, "episode_reward_mean": 2075.622153282237, "policy_reward_mean": {}, "timesteps_total": 9660000, "episodes_total": 3215, "timestamp": 1563902594, "time_this_iter_s": 86.79024338722229, "info": {"update_time_ms": 4.459, "default": {"vf_explained_var": 0.14405624568462372, "kl": 0.01463779341429472, "total_loss": 362.6795959472656, "cur_kl_coeff": 9.184110135184851e-42, "entropy": -1.538421392440796, "vf_loss": 362.67718505859375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.002385278232395649}, "num_steps_trained": 9660000, "sample_time_ms": 62565.236, "num_steps_sampled": 9660000, "load_time_ms": 1.142, "grad_time_ms": 22203.603}, "date": "2019-07-23_10-23-14", "episode_reward_min": 447.8477220154569, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13682.497797727585}
{"episodes_this_iter": 22, "time_since_restore": 13769.72533416748, "episode_reward_max": 3049.9807700872493, "timesteps_since_restore": 9720000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 162, "custom_metrics": {}, "training_iteration": 162, "episode_reward_mean": 2144.324625992851, "policy_reward_mean": {}, "timesteps_total": 9720000, "episodes_total": 3237, "timestamp": 1563902682, "time_this_iter_s": 87.22753643989563, "info": {"update_time_ms": 4.723, "default": {"vf_explained_var": 5.217558646108955e-05, "kl": 0.015849366784095764, "total_loss": 407.80560302734375, "cur_kl_coeff": 9.184110135184851e-42, "entropy": -1.8329274654388428, "vf_loss": 407.80181884765625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.003734702244400978}, "num_steps_trained": 9720000, "sample_time_ms": 62580.41, "num_steps_sampled": 9720000, "load_time_ms": 1.144, "grad_time_ms": 22209.282}, "date": "2019-07-23_10-24-42", "episode_reward_min": 741.7657117620329, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13769.72533416748}
{"episodes_this_iter": 21, "time_since_restore": 13855.84174656868, "episode_reward_max": 3049.9807700872493, "timesteps_since_restore": 9780000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 163, "custom_metrics": {}, "training_iteration": 163, "episode_reward_mean": 2166.0414609457584, "policy_reward_mean": {}, "timesteps_total": 9780000, "episodes_total": 3258, "timestamp": 1563902768, "time_this_iter_s": 86.11641240119934, "info": {"update_time_ms": 4.712, "default": {"vf_explained_var": 0.05542042851448059, "kl": 0.010087965056300163, "total_loss": 381.99896240234375, "cur_kl_coeff": 9.184110135184851e-42, "entropy": -1.785954475402832, "vf_loss": 381.99615478515625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0028100949712097645}, "num_steps_trained": 9780000, "sample_time_ms": 62541.793, "num_steps_sampled": 9780000, "load_time_ms": 1.156, "grad_time_ms": 22207.708}, "date": "2019-07-23_10-26-08", "episode_reward_min": 741.7657117620329, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13855.84174656868}
{"episodes_this_iter": 16, "time_since_restore": 13939.948123216629, "episode_reward_max": 3049.9807700872493, "timesteps_since_restore": 9840000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 164, "custom_metrics": {}, "training_iteration": 164, "episode_reward_mean": 2179.503765779756, "policy_reward_mean": {}, "timesteps_total": 9840000, "episodes_total": 3274, "timestamp": 1563902852, "time_this_iter_s": 84.10637664794922, "info": {"update_time_ms": 4.603, "default": {"vf_explained_var": 0.19290803372859955, "kl": 0.015318510122597218, "total_loss": 302.0603332519531, "cur_kl_coeff": 9.184110135184851e-42, "entropy": -1.3747828006744385, "vf_loss": 302.0578918457031, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0024362949188798666}, "num_steps_trained": 9840000, "sample_time_ms": 63030.146, "num_steps_sampled": 9840000, "load_time_ms": 1.162, "grad_time_ms": 22208.265}, "date": "2019-07-23_10-27-32", "episode_reward_min": 741.7657117620329, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 13939.948123216629}
{"episodes_this_iter": 20, "time_since_restore": 14025.773807287216, "episode_reward_max": 3025.0796554097346, "timesteps_since_restore": 9900000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 165, "custom_metrics": {}, "training_iteration": 165, "episode_reward_mean": 2110.349008437944, "policy_reward_mean": {}, "timesteps_total": 9900000, "episodes_total": 3294, "timestamp": 1563902938, "time_this_iter_s": 85.82568407058716, "info": {"update_time_ms": 4.746, "default": {"vf_explained_var": 0.026055041700601578, "kl": 0.016190385445952415, "total_loss": 333.809326171875, "cur_kl_coeff": 9.184110135184851e-42, "entropy": -1.3751139640808105, "vf_loss": 333.8065490722656, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0027185154613107443}, "num_steps_trained": 9900000, "sample_time_ms": 63167.442, "num_steps_sampled": 9900000, "load_time_ms": 1.179, "grad_time_ms": 22208.362}, "date": "2019-07-23_10-28-58", "episode_reward_min": 702.9650202402554, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14025.773807287216}
{"episodes_this_iter": 22, "time_since_restore": 14112.865161418915, "episode_reward_max": 3025.0796554097346, "timesteps_since_restore": 9960000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 166, "custom_metrics": {}, "training_iteration": 166, "episode_reward_mean": 2164.6532158515147, "policy_reward_mean": {}, "timesteps_total": 9960000, "episodes_total": 3316, "timestamp": 1563903025, "time_this_iter_s": 87.09135413169861, "info": {"update_time_ms": 4.806, "default": {"vf_explained_var": 0.007056289818137884, "kl": 0.02405407465994358, "total_loss": 372.49273681640625, "cur_kl_coeff": 9.184110135184851e-42, "entropy": -1.8162263631820679, "vf_loss": 372.4844970703125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.008209853433072567}, "num_steps_trained": 9960000, "sample_time_ms": 63446.263, "num_steps_sampled": 9960000, "load_time_ms": 1.173, "grad_time_ms": 22206.887}, "date": "2019-07-23_10-30-25", "episode_reward_min": 702.9650202402554, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14112.865161418915}
{"episodes_this_iter": 21, "time_since_restore": 14199.930446386337, "episode_reward_max": 3070.013725947243, "timesteps_since_restore": 10020000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 167, "custom_metrics": {}, "training_iteration": 167, "episode_reward_mean": 2180.8608373943407, "policy_reward_mean": {}, "timesteps_total": 10020000, "episodes_total": 3337, "timestamp": 1563903112, "time_this_iter_s": 87.06528496742249, "info": {"update_time_ms": 4.768, "default": {"vf_explained_var": 0.004695117007941008, "kl": 0.030061205849051476, "total_loss": 426.937255859375, "cur_kl_coeff": 9.184110135184851e-42, "entropy": -1.9611899852752686, "vf_loss": 426.9293212890625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.007943176664412022}, "num_steps_trained": 10020000, "sample_time_ms": 63746.152, "num_steps_sampled": 10020000, "load_time_ms": 1.185, "grad_time_ms": 22197.656}, "date": "2019-07-23_10-31-52", "episode_reward_min": 702.9650202402554, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14199.930446386337}
{"episodes_this_iter": 19, "time_since_restore": 14284.17032957077, "episode_reward_max": 3070.013725947243, "timesteps_since_restore": 10080000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 168, "custom_metrics": {}, "training_iteration": 168, "episode_reward_mean": 2126.6652821181415, "policy_reward_mean": {}, "timesteps_total": 10080000, "episodes_total": 3356, "timestamp": 1563903196, "time_this_iter_s": 84.23988318443298, "info": {"update_time_ms": 4.806, "default": {"vf_explained_var": 0.17939214408397675, "kl": 0.013715888373553753, "total_loss": 310.9098815917969, "cur_kl_coeff": 9.184110135184851e-42, "entropy": -1.4604204893112183, "vf_loss": 310.90716552734375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0027195941656827927}, "num_steps_trained": 10080000, "sample_time_ms": 63506.073, "num_steps_sampled": 10080000, "load_time_ms": 1.19, "grad_time_ms": 22197.048}, "date": "2019-07-23_10-33-16", "episode_reward_min": 702.9650202402554, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14284.17032957077}
{"episodes_this_iter": 17, "time_since_restore": 14366.528625965118, "episode_reward_max": 3070.013725947243, "timesteps_since_restore": 10140000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 169, "custom_metrics": {}, "training_iteration": 169, "episode_reward_mean": 2109.9797122259965, "policy_reward_mean": {}, "timesteps_total": 10140000, "episodes_total": 3373, "timestamp": 1563903278, "time_this_iter_s": 82.35829639434814, "info": {"update_time_ms": 4.842, "default": {"vf_explained_var": 0.041169051080942154, "kl": 0.018022507429122925, "total_loss": 375.89117431640625, "cur_kl_coeff": 9.184110135184851e-42, "entropy": -1.8331128358840942, "vf_loss": 375.886962890625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0042279791086912155}, "num_steps_trained": 10140000, "sample_time_ms": 63419.539, "num_steps_sampled": 10140000, "load_time_ms": 1.19, "grad_time_ms": 22195.906}, "date": "2019-07-23_10-34-38", "episode_reward_min": 702.9650202402554, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14366.528625965118}
{"episodes_this_iter": 22, "time_since_restore": 14452.23113822937, "episode_reward_max": 3070.013725947243, "timesteps_since_restore": 10200000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 170, "custom_metrics": {}, "training_iteration": 170, "episode_reward_mean": 2201.4379779033347, "policy_reward_mean": {}, "timesteps_total": 10200000, "episodes_total": 3395, "timestamp": 1563903364, "time_this_iter_s": 85.70251226425171, "info": {"update_time_ms": 4.874, "default": {"vf_explained_var": 0.03721439465880394, "kl": 10.68555736541748, "total_loss": 357.3356018066406, "cur_kl_coeff": 9.184110135184851e-42, "entropy": -1.6261621713638306, "vf_loss": 357.13287353515625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.2026877999305725}, "num_steps_trained": 10200000, "sample_time_ms": 63419.494, "num_steps_sampled": 10200000, "load_time_ms": 1.188, "grad_time_ms": 22188.72}, "date": "2019-07-23_10-36-04", "episode_reward_min": 875.0408988870469, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14452.23113822937}
{"episodes_this_iter": 22, "time_since_restore": 14539.618671655655, "episode_reward_max": 3070.013725947243, "timesteps_since_restore": 10260000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 171, "custom_metrics": {}, "training_iteration": 171, "episode_reward_mean": 2230.063502289478, "policy_reward_mean": {}, "timesteps_total": 10260000, "episodes_total": 3417, "timestamp": 1563903452, "time_this_iter_s": 87.38753342628479, "info": {"update_time_ms": 4.705, "default": {"vf_explained_var": 0.020127179101109505, "kl": 308.6832275390625, "total_loss": 453.5635681152344, "cur_kl_coeff": 1.3774763904312952e-41, "entropy": -2.235685110092163, "vf_loss": 453.3169860839844, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.24660742282867432}, "num_steps_trained": 10260000, "sample_time_ms": 63468.497, "num_steps_sampled": 10260000, "load_time_ms": 1.179, "grad_time_ms": 22199.644}, "date": "2019-07-23_10-37-32", "episode_reward_min": 875.0408988870469, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14539.618671655655}
{"episodes_this_iter": 19, "time_since_restore": 14628.75159907341, "episode_reward_max": 3064.8340933827194, "timesteps_since_restore": 10320000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 172, "custom_metrics": {}, "training_iteration": 172, "episode_reward_mean": 2192.422056337825, "policy_reward_mean": {}, "timesteps_total": 10320000, "episodes_total": 3436, "timestamp": 1563903541, "time_this_iter_s": 89.13292741775513, "info": {"update_time_ms": 4.415, "default": {"vf_explained_var": 0.007990152575075626, "kl": 0.008329443633556366, "total_loss": 326.1481628417969, "cur_kl_coeff": 2.0663547154933753e-41, "entropy": -1.6285570859909058, "vf_loss": 326.14666748046875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0014608833007514477}, "num_steps_trained": 10320000, "sample_time_ms": 63667.673, "num_steps_sampled": 10320000, "load_time_ms": 1.184, "grad_time_ms": 22190.994}, "date": "2019-07-23_10-39-01", "episode_reward_min": 875.0408988870469, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14628.75159907341}
{"episodes_this_iter": 20, "time_since_restore": 14714.567078351974, "episode_reward_max": 3064.8340933827194, "timesteps_since_restore": 10380000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 173, "custom_metrics": {}, "training_iteration": 173, "episode_reward_mean": 2191.1909377132733, "policy_reward_mean": {}, "timesteps_total": 10380000, "episodes_total": 3456, "timestamp": 1563903627, "time_this_iter_s": 85.81547927856445, "info": {"update_time_ms": 4.422, "default": {"vf_explained_var": 0.005399414803832769, "kl": 0.009577622637152672, "total_loss": 317.4185791015625, "cur_kl_coeff": 1.0331773577466876e-41, "entropy": -1.4839450120925903, "vf_loss": 317.4169006347656, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0016728288028389215}, "num_steps_trained": 10380000, "sample_time_ms": 63642.38, "num_steps_sampled": 10380000, "load_time_ms": 1.181, "grad_time_ms": 22186.296}, "date": "2019-07-23_10-40-27", "episode_reward_min": 875.0408988870469, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14714.567078351974}
{"episodes_this_iter": 17, "time_since_restore": 14798.872958421707, "episode_reward_max": 3064.8340933827194, "timesteps_since_restore": 10440000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 174, "custom_metrics": {}, "training_iteration": 174, "episode_reward_mean": 2195.8355930419166, "policy_reward_mean": {}, "timesteps_total": 10440000, "episodes_total": 3473, "timestamp": 1563903711, "time_this_iter_s": 84.30588006973267, "info": {"update_time_ms": 4.501, "default": {"vf_explained_var": 0.00025346456095576286, "kl": 0.010004736483097076, "total_loss": 292.41302490234375, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.461199164390564, "vf_loss": 292.41058349609375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.002472052350640297}, "num_steps_trained": 10440000, "sample_time_ms": 63676.447, "num_steps_sampled": 10440000, "load_time_ms": 1.186, "grad_time_ms": 22172.13}, "date": "2019-07-23_10-41-51", "episode_reward_min": 1034.0421663293173, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14798.872958421707}
{"episodes_this_iter": 22, "time_since_restore": 14884.923071622849, "episode_reward_max": 3064.4406837401375, "timesteps_since_restore": 10500000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 175, "custom_metrics": {}, "training_iteration": 175, "episode_reward_mean": 2144.54700190229, "policy_reward_mean": {}, "timesteps_total": 10500000, "episodes_total": 3495, "timestamp": 1563903797, "time_this_iter_s": 86.05011320114136, "info": {"update_time_ms": 4.225, "default": {"vf_explained_var": 0.0012500261655077338, "kl": 0.01726141758263111, "total_loss": 344.45794677734375, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.6226451396942139, "vf_loss": 344.4549865722656, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0029314442072063684}, "num_steps_trained": 10500000, "sample_time_ms": 63701.797, "num_steps_sampled": 10500000, "load_time_ms": 1.172, "grad_time_ms": 22169.384}, "date": "2019-07-23_10-43-17", "episode_reward_min": 1059.3096639363719, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14884.923071622849}
{"episodes_this_iter": 22, "time_since_restore": 14971.535825967789, "episode_reward_max": 2682.268972231421, "timesteps_since_restore": 10560000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 176, "custom_metrics": {}, "training_iteration": 176, "episode_reward_mean": 2113.9905231367275, "policy_reward_mean": {}, "timesteps_total": 10560000, "episodes_total": 3517, "timestamp": 1563903884, "time_this_iter_s": 86.61275434494019, "info": {"update_time_ms": 4.125, "default": {"vf_explained_var": 1.0299631867383141e-06, "kl": 0.018446562811732292, "total_loss": 393.89569091796875, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -2.0647425651550293, "vf_loss": 393.89105224609375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.004665376618504524}, "num_steps_trained": 10560000, "sample_time_ms": 63654.417, "num_steps_sampled": 10560000, "load_time_ms": 1.175, "grad_time_ms": 22168.92}, "date": "2019-07-23_10-44-44", "episode_reward_min": 1099.173732941827, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 14971.535825967789}
{"episodes_this_iter": 19, "time_since_restore": 15057.075697660446, "episode_reward_max": 2621.0355930107307, "timesteps_since_restore": 10620000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 177, "custom_metrics": {}, "training_iteration": 177, "episode_reward_mean": 2100.5581252591737, "policy_reward_mean": {}, "timesteps_total": 10620000, "episodes_total": 3536, "timestamp": 1563903969, "time_this_iter_s": 85.53987169265747, "info": {"update_time_ms": 4.241, "default": {"vf_explained_var": 0.017543669790029526, "kl": 0.021072112023830414, "total_loss": 316.32720947265625, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.603125810623169, "vf_loss": 316.32061767578125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.006610311567783356}, "num_steps_trained": 10620000, "sample_time_ms": 63500.223, "num_steps_sampled": 10620000, "load_time_ms": 1.161, "grad_time_ms": 22170.516}, "date": "2019-07-23_10-46-09", "episode_reward_min": 1077.7039649216986, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15057.075697660446}
{"episodes_this_iter": 20, "time_since_restore": 15143.374074459076, "episode_reward_max": 2672.694899949454, "timesteps_since_restore": 10680000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 178, "custom_metrics": {}, "training_iteration": 178, "episode_reward_mean": 2129.222903340397, "policy_reward_mean": {}, "timesteps_total": 10680000, "episodes_total": 3556, "timestamp": 1563904056, "time_this_iter_s": 86.29837679862976, "info": {"update_time_ms": 4.071, "default": {"vf_explained_var": 0.0025251491460949183, "kl": 0.01307164877653122, "total_loss": 348.3749694824219, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.8261332511901855, "vf_loss": 348.371337890625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.003635168308392167}, "num_steps_trained": 10680000, "sample_time_ms": 63709.346, "num_steps_sampled": 10680000, "load_time_ms": 1.16, "grad_time_ms": 22167.56}, "date": "2019-07-23_10-47-36", "episode_reward_min": 990.7131860589577, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15143.374074459076}
{"episodes_this_iter": 17, "time_since_restore": 15228.354079246521, "episode_reward_max": 2672.694899949454, "timesteps_since_restore": 10740000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 179, "custom_metrics": {}, "training_iteration": 179, "episode_reward_mean": 2135.383680022331, "policy_reward_mean": {}, "timesteps_total": 10740000, "episodes_total": 3573, "timestamp": 1563904141, "time_this_iter_s": 84.98000478744507, "info": {"update_time_ms": 4.015, "default": {"vf_explained_var": 0.00016923733346629888, "kl": 0.016957027837634087, "total_loss": 338.2161560058594, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.9050006866455078, "vf_loss": 338.2123107910156, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.003837770316749811}, "num_steps_trained": 10740000, "sample_time_ms": 63970.64, "num_steps_sampled": 10740000, "load_time_ms": 1.15, "grad_time_ms": 22168.981}, "date": "2019-07-23_10-49-01", "episode_reward_min": 990.7131860589577, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15228.354079246521}
{"episodes_this_iter": 22, "time_since_restore": 15315.042124032974, "episode_reward_max": 2672.694899949454, "timesteps_since_restore": 10800000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 180, "custom_metrics": {}, "training_iteration": 180, "episode_reward_mean": 2160.031258898182, "policy_reward_mean": {}, "timesteps_total": 10800000, "episodes_total": 3595, "timestamp": 1563904227, "time_this_iter_s": 86.68804478645325, "info": {"update_time_ms": 3.995, "default": {"vf_explained_var": 0.00772103713825345, "kl": 0.031536538153886795, "total_loss": 336.2425231933594, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.609742522239685, "vf_loss": 336.2352294921875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.007272678427398205}, "num_steps_trained": 10800000, "sample_time_ms": 64062.963, "num_steps_sampled": 10800000, "load_time_ms": 1.144, "grad_time_ms": 22175.271}, "date": "2019-07-23_10-50-27", "episode_reward_min": 990.7131860589577, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15315.042124032974}
{"episodes_this_iter": 22, "time_since_restore": 15401.513874053955, "episode_reward_max": 2672.694899949454, "timesteps_since_restore": 10860000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 181, "custom_metrics": {}, "training_iteration": 181, "episode_reward_mean": 2096.400156188324, "policy_reward_mean": {}, "timesteps_total": 10860000, "episodes_total": 3617, "timestamp": 1563904314, "time_this_iter_s": 86.47175002098083, "info": {"update_time_ms": 4.384, "default": {"vf_explained_var": 0.0001942989183589816, "kl": 0.01644294522702694, "total_loss": 337.7857971191406, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.6174856424331665, "vf_loss": 337.7807922363281, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.005034369416534901}, "num_steps_trained": 10860000, "sample_time_ms": 63984.298, "num_steps_sampled": 10860000, "load_time_ms": 1.155, "grad_time_ms": 22161.771}, "date": "2019-07-23_10-51-54", "episode_reward_min": 990.7131860589577, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15401.513874053955}
{"episodes_this_iter": 19, "time_since_restore": 15487.397487163544, "episode_reward_max": 2708.6916722721116, "timesteps_since_restore": 10920000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 182, "custom_metrics": {}, "training_iteration": 182, "episode_reward_mean": 2119.67928715138, "policy_reward_mean": {}, "timesteps_total": 10920000, "episodes_total": 3636, "timestamp": 1563904400, "time_this_iter_s": 85.88361310958862, "info": {"update_time_ms": 4.619, "default": {"vf_explained_var": 0.024606840685009956, "kl": 0.016582822427153587, "total_loss": 351.2221984863281, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.9076637029647827, "vf_loss": 351.2180480957031, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.004133112728595734}, "num_steps_trained": 10920000, "sample_time_ms": 63647.587, "num_steps_sampled": 10920000, "load_time_ms": 1.15, "grad_time_ms": 22173.244}, "date": "2019-07-23_10-53-20", "episode_reward_min": 990.7131860589577, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15487.397487163544}
{"episodes_this_iter": 20, "time_since_restore": 15571.93807220459, "episode_reward_max": 2708.6916722721116, "timesteps_since_restore": 10980000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 183, "custom_metrics": {}, "training_iteration": 183, "episode_reward_mean": 2098.0647325807877, "policy_reward_mean": {}, "timesteps_total": 10980000, "episodes_total": 3656, "timestamp": 1563904484, "time_this_iter_s": 84.54058504104614, "info": {"update_time_ms": 4.588, "default": {"vf_explained_var": 0.012820879928767681, "kl": 0.021324772387742996, "total_loss": 342.18212890625, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.7887004613876343, "vf_loss": 342.17730712890625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0047945198602974415}, "num_steps_trained": 10980000, "sample_time_ms": 63521.175, "num_steps_sampled": 10980000, "load_time_ms": 1.152, "grad_time_ms": 22172.161}, "date": "2019-07-23_10-54-44", "episode_reward_min": 1028.6591298223625, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15571.93807220459}
{"episodes_this_iter": 16, "time_since_restore": 15652.755143880844, "episode_reward_max": 2708.6916722721116, "timesteps_since_restore": 11040000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 184, "custom_metrics": {}, "training_iteration": 184, "episode_reward_mean": 2098.9231101317473, "policy_reward_mean": {}, "timesteps_total": 11040000, "episodes_total": 3672, "timestamp": 1563904565, "time_this_iter_s": 80.81707167625427, "info": {"update_time_ms": 4.491, "default": {"vf_explained_var": 0.0939897894859314, "kl": 0.019547659903764725, "total_loss": 304.8531188964844, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.6820162534713745, "vf_loss": 304.8475341796875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.005646382458508015}, "num_steps_trained": 11040000, "sample_time_ms": 63157.752, "num_steps_sampled": 11040000, "load_time_ms": 1.137, "grad_time_ms": 22186.859}, "date": "2019-07-23_10-56-05", "episode_reward_min": 1028.6591298223625, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15652.755143880844}
{"episodes_this_iter": 22, "time_since_restore": 15736.730322122574, "episode_reward_max": 2708.6916722721116, "timesteps_since_restore": 11100000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 185, "custom_metrics": {}, "training_iteration": 185, "episode_reward_mean": 2091.411865975484, "policy_reward_mean": {}, "timesteps_total": 11100000, "episodes_total": 3694, "timestamp": 1563904649, "time_this_iter_s": 83.97517824172974, "info": {"update_time_ms": 4.56, "default": {"vf_explained_var": 5.51252524019219e-05, "kl": 0.018763991072773933, "total_loss": 367.055419921875, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.919732928276062, "vf_loss": 367.0495910644531, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00580751383677125}, "num_steps_trained": 11100000, "sample_time_ms": 62950.586, "num_steps_sampled": 11100000, "load_time_ms": 1.151, "grad_time_ms": 22186.541}, "date": "2019-07-23_10-57-29", "episode_reward_min": 1028.6591298223625, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15736.730322122574}
{"episodes_this_iter": 22, "time_since_restore": 15820.896322727203, "episode_reward_max": 2708.6916722721116, "timesteps_since_restore": 11160000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 186, "custom_metrics": {}, "training_iteration": 186, "episode_reward_mean": 2136.6319428298984, "policy_reward_mean": {}, "timesteps_total": 11160000, "episodes_total": 3716, "timestamp": 1563904733, "time_this_iter_s": 84.16600060462952, "info": {"update_time_ms": 4.637, "default": {"vf_explained_var": 2.4122942704707384e-05, "kl": 0.01528071891516447, "total_loss": 364.26068115234375, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.934716820716858, "vf_loss": 364.257080078125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.003588781226426363}, "num_steps_trained": 11160000, "sample_time_ms": 62706.736, "num_steps_sampled": 11160000, "load_time_ms": 1.156, "grad_time_ms": 22185.52}, "date": "2019-07-23_10-58-53", "episode_reward_min": 1028.6591298223625, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15820.896322727203}
{"episodes_this_iter": 22, "time_since_restore": 15907.644712209702, "episode_reward_max": 2680.5109275871573, "timesteps_since_restore": 11220000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 187, "custom_metrics": {}, "training_iteration": 187, "episode_reward_mean": 2138.7004507401634, "policy_reward_mean": {}, "timesteps_total": 11220000, "episodes_total": 3738, "timestamp": 1563904820, "time_this_iter_s": 86.74838948249817, "info": {"update_time_ms": 4.58, "default": {"vf_explained_var": 6.657125481979165e-07, "kl": 0.037231601774692535, "total_loss": 379.9894104003906, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -2.0815463066101074, "vf_loss": 379.9792785644531, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.010137459263205528}, "num_steps_trained": 11220000, "sample_time_ms": 62829.97, "num_steps_sampled": 11220000, "load_time_ms": 1.167, "grad_time_ms": 22183.161}, "date": "2019-07-23_11-00-20", "episode_reward_min": 1028.6591298223625, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15907.644712209702}
{"episodes_this_iter": 19, "time_since_restore": 15993.690107822418, "episode_reward_max": 2680.5109275871573, "timesteps_since_restore": 11280000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 188, "custom_metrics": {}, "training_iteration": 188, "episode_reward_mean": 2161.0845218618874, "policy_reward_mean": {}, "timesteps_total": 11280000, "episodes_total": 3757, "timestamp": 1563904906, "time_this_iter_s": 86.04539561271667, "info": {"update_time_ms": 4.836, "default": {"vf_explained_var": 2.791738893392903e-07, "kl": 0.02377438358962536, "total_loss": 359.4822692871094, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -2.0638644695281982, "vf_loss": 359.4774169921875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.004833688959479332}, "num_steps_trained": 11280000, "sample_time_ms": 62800.39, "num_steps_sampled": 11280000, "load_time_ms": 1.162, "grad_time_ms": 22187.012}, "date": "2019-07-23_11-01-46", "episode_reward_min": 1097.8904015009741, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 15993.690107822418}
{"episodes_this_iter": 15, "time_since_restore": 16077.510862350464, "episode_reward_max": 2680.5109275871573, "timesteps_since_restore": 11340000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 189, "custom_metrics": {}, "training_iteration": 189, "episode_reward_mean": 2181.074762895668, "policy_reward_mean": {}, "timesteps_total": 11340000, "episodes_total": 3772, "timestamp": 1563904990, "time_this_iter_s": 83.82075452804565, "info": {"update_time_ms": 4.83, "default": {"vf_explained_var": 6.049616558811977e-07, "kl": 0.022900745272636414, "total_loss": 330.08935546875, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -1.9748386144638062, "vf_loss": 330.08258056640625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.006763209588825703}, "num_steps_trained": 11340000, "sample_time_ms": 62697.465, "num_steps_sampled": 11340000, "load_time_ms": 1.152, "grad_time_ms": 22173.834}, "date": "2019-07-23_11-03-10", "episode_reward_min": 1097.8904015009741, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16077.510862350464}
{"episodes_this_iter": 22, "time_since_restore": 16164.176856279373, "episode_reward_max": 2680.5109275871573, "timesteps_since_restore": 11400000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 190, "custom_metrics": {}, "training_iteration": 190, "episode_reward_mean": 2196.33302201305, "policy_reward_mean": {}, "timesteps_total": 11400000, "episodes_total": 3794, "timestamp": 1563905077, "time_this_iter_s": 86.6659939289093, "info": {"update_time_ms": 4.743, "default": {"vf_explained_var": 2.126917841849263e-08, "kl": 0.022127624601125717, "total_loss": 379.4783935546875, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -2.1297736167907715, "vf_loss": 379.47442626953125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0039690593257546425}, "num_steps_trained": 11400000, "sample_time_ms": 62694.538, "num_steps_sampled": 11400000, "load_time_ms": 1.161, "grad_time_ms": 22174.52}, "date": "2019-07-23_11-04-37", "episode_reward_min": 1174.75748792166, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16164.176856279373}
{"episodes_this_iter": 22, "time_since_restore": 16250.778828144073, "episode_reward_max": 2684.8618905104336, "timesteps_since_restore": 11460000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 191, "custom_metrics": {}, "training_iteration": 191, "episode_reward_mean": 2221.330354613722, "policy_reward_mean": {}, "timesteps_total": 11460000, "episodes_total": 3816, "timestamp": 1563905163, "time_this_iter_s": 86.60197186470032, "info": {"update_time_ms": 4.342, "default": {"vf_explained_var": -7.514261213259488e-09, "kl": 0.04724889621138573, "total_loss": 395.3153381347656, "cur_kl_coeff": 5.165186139501276e-42, "entropy": -2.2445068359375, "vf_loss": 395.3046875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.010656884871423244}, "num_steps_trained": 11460000, "sample_time_ms": 62704.199, "num_steps_sampled": 11460000, "load_time_ms": 1.149, "grad_time_ms": 22178.483}, "date": "2019-07-23_11-06-03", "episode_reward_min": 1180.8701851335065, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16250.778828144073}
{"episodes_this_iter": 22, "time_since_restore": 16336.856409788132, "episode_reward_max": 2700.4931103869662, "timesteps_since_restore": 11520000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 192, "custom_metrics": {}, "training_iteration": 192, "episode_reward_mean": 2206.2785872269405, "policy_reward_mean": {}, "timesteps_total": 11520000, "episodes_total": 3838, "timestamp": 1563905249, "time_this_iter_s": 86.07758164405823, "info": {"update_time_ms": 4.166, "default": {"vf_explained_var": 1.1207711203553572e-08, "kl": 0.022335313260555267, "total_loss": 365.94354248046875, "cur_kl_coeff": 7.749180507716238e-42, "entropy": -1.9060587882995605, "vf_loss": 365.9364318847656, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.007060868665575981}, "num_steps_trained": 11520000, "sample_time_ms": 62718.876, "num_steps_sampled": 11520000, "load_time_ms": 1.134, "grad_time_ms": 22183.621}, "date": "2019-07-23_11-07-29", "episode_reward_min": 1180.8701851335065, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16336.856409788132}
{"episodes_this_iter": 20, "time_since_restore": 16422.800477027893, "episode_reward_max": 2700.4931103869662, "timesteps_since_restore": 11580000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 193, "custom_metrics": {}, "training_iteration": 193, "episode_reward_mean": 2162.0904519502674, "policy_reward_mean": {}, "timesteps_total": 11580000, "episodes_total": 3858, "timestamp": 1563905335, "time_this_iter_s": 85.94406723976135, "info": {"update_time_ms": 4.369, "default": {"vf_explained_var": 0.002412263071164489, "kl": 0.041418131440877914, "total_loss": 340.390380859375, "cur_kl_coeff": 7.749180507716238e-42, "entropy": -1.783068299293518, "vf_loss": 340.37933349609375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.011037222109735012}, "num_steps_trained": 11580000, "sample_time_ms": 62863.574, "num_steps_sampled": 11580000, "load_time_ms": 1.125, "grad_time_ms": 22178.964}, "date": "2019-07-23_11-08-55", "episode_reward_min": 1120.8021252116987, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16422.800477027893}
{"episodes_this_iter": 13, "time_since_restore": 16502.659052610397, "episode_reward_max": 2700.4931103869662, "timesteps_since_restore": 11640000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 194, "custom_metrics": {}, "training_iteration": 194, "episode_reward_mean": 2152.760129446363, "policy_reward_mean": {}, "timesteps_total": 11640000, "episodes_total": 3871, "timestamp": 1563905415, "time_this_iter_s": 79.85857558250427, "info": {"update_time_ms": 4.479, "default": {"vf_explained_var": 3.3342939786962233e-07, "kl": 0.03301214799284935, "total_loss": 315.22857666015625, "cur_kl_coeff": 1.1622369463110033e-41, "entropy": -2.0523617267608643, "vf_loss": 315.2191467285156, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.009433341212570667}, "num_steps_trained": 11640000, "sample_time_ms": 62770.963, "num_steps_sampled": 11640000, "load_time_ms": 1.132, "grad_time_ms": 22175.552}, "date": "2019-07-23_11-10-15", "episode_reward_min": 1120.8021252116987, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16502.659052610397}
{"episodes_this_iter": 22, "time_since_restore": 16587.149178028107, "episode_reward_max": 2700.4931103869662, "timesteps_since_restore": 11700000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 195, "custom_metrics": {}, "training_iteration": 195, "episode_reward_mean": 2175.7059781506996, "policy_reward_mean": {}, "timesteps_total": 11700000, "episodes_total": 3893, "timestamp": 1563905500, "time_this_iter_s": 84.49012541770935, "info": {"update_time_ms": 4.701, "default": {"vf_explained_var": 3.8208107788761936e-09, "kl": 0.03392837569117546, "total_loss": 408.3084411621094, "cur_kl_coeff": 1.1622369463110033e-41, "entropy": -2.362210988998413, "vf_loss": 408.3004150390625, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.007970434613525867}, "num_steps_trained": 11700000, "sample_time_ms": 62816.664, "num_steps_sampled": 11700000, "load_time_ms": 1.139, "grad_time_ms": 22181.327}, "date": "2019-07-23_11-11-40", "episode_reward_min": 1120.8021252116987, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16587.149178028107}
{"episodes_this_iter": 22, "time_since_restore": 16671.385959863663, "episode_reward_max": 2700.4931103869662, "timesteps_since_restore": 11760000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 196, "custom_metrics": {}, "training_iteration": 196, "episode_reward_mean": 2145.474720860226, "policy_reward_mean": {}, "timesteps_total": 11760000, "episodes_total": 3915, "timestamp": 1563905584, "time_this_iter_s": 84.23678183555603, "info": {"update_time_ms": 4.687, "default": {"vf_explained_var": 0.011946042068302631, "kl": 0.025106603279709816, "total_loss": 364.1012878417969, "cur_kl_coeff": 1.1622369463110033e-41, "entropy": -1.9019702672958374, "vf_loss": 364.09503173828125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.0062787230126559734}, "num_steps_trained": 11760000, "sample_time_ms": 62835.529, "num_steps_sampled": 11760000, "load_time_ms": 1.13, "grad_time_ms": 22169.744}, "date": "2019-07-23_11-13-04", "episode_reward_min": 1120.8021252116987, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16671.385959863663}
{"episodes_this_iter": 22, "time_since_restore": 16755.586987018585, "episode_reward_max": 2698.0971159098826, "timesteps_since_restore": 11820000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 197, "custom_metrics": {}, "training_iteration": 197, "episode_reward_mean": 2144.3829060425655, "policy_reward_mean": {}, "timesteps_total": 11820000, "episodes_total": 3937, "timestamp": 1563905668, "time_this_iter_s": 84.20102715492249, "info": {"update_time_ms": 4.603, "default": {"vf_explained_var": 5.503241027327022e-07, "kl": 0.04204162210226059, "total_loss": 382.2745666503906, "cur_kl_coeff": 1.1622369463110033e-41, "entropy": -2.1184592247009277, "vf_loss": 382.2657470703125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00880659744143486}, "num_steps_trained": 11820000, "sample_time_ms": 62576.719, "num_steps_sampled": 11820000, "load_time_ms": 1.141, "grad_time_ms": 22173.804}, "date": "2019-07-23_11-14-28", "episode_reward_min": 1120.8021252116987, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16755.586987018585}
{"episodes_this_iter": 22, "time_since_restore": 16842.717990636826, "episode_reward_max": 2707.3844848447775, "timesteps_since_restore": 11880000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 198, "custom_metrics": {}, "training_iteration": 198, "episode_reward_mean": 2185.8564447620943, "policy_reward_mean": {}, "timesteps_total": 11880000, "episodes_total": 3959, "timestamp": 1563905755, "time_this_iter_s": 87.13100361824036, "info": {"update_time_ms": 4.373, "default": {"vf_explained_var": 8.425906344200484e-06, "kl": 0.060874637216329575, "total_loss": 382.0047607421875, "cur_kl_coeff": 1.7434955493129374e-41, "entropy": -2.040616273880005, "vf_loss": 381.9930419921875, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.011733134277164936}, "num_steps_trained": 11880000, "sample_time_ms": 62690.134, "num_steps_sampled": 11880000, "load_time_ms": 1.145, "grad_time_ms": 22169.102}, "date": "2019-07-23_11-15-55", "episode_reward_min": 1197.3618918292625, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16842.717990636826}
{"episodes_this_iter": 15, "time_since_restore": 16925.003782987595, "episode_reward_max": 2707.3844848447775, "timesteps_since_restore": 11940000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 199, "custom_metrics": {}, "training_iteration": 199, "episode_reward_mean": 2170.6709034044466, "policy_reward_mean": {}, "timesteps_total": 11940000, "episodes_total": 3974, "timestamp": 1563905838, "time_this_iter_s": 82.28579235076904, "info": {"update_time_ms": 4.408, "default": {"vf_explained_var": 0.011395126581192017, "kl": 0.026840275153517723, "total_loss": 301.6947326660156, "cur_kl_coeff": 2.6151031941229736e-41, "entropy": -1.788447618484497, "vf_loss": 301.68585205078125, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.00886718463152647}, "num_steps_trained": 11940000, "sample_time_ms": 62534.649, "num_steps_sampled": 11940000, "load_time_ms": 1.16, "grad_time_ms": 22171.059}, "date": "2019-07-23_11-17-18", "episode_reward_min": 1197.3618918292625, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": false, "time_total_s": 16925.003782987595}
{"episodes_this_iter": 20, "time_since_restore": 17011.032792806625, "episode_reward_max": 2707.3844848447775, "timesteps_since_restore": 12000000, "timesteps_this_iter": 60000, "node_ip": "169.229.222.242", "episode_len_mean": 3000.0, "iterations_since_restore": 200, "custom_metrics": {}, "training_iteration": 200, "episode_reward_mean": 2135.219679484301, "policy_reward_mean": {}, "timesteps_total": 12000000, "episodes_total": 3994, "timestamp": 1563905924, "time_this_iter_s": 86.02900981903076, "info": {"update_time_ms": 4.423, "default": {"vf_explained_var": 3.638175712694647e-06, "kl": 0.03747960925102234, "total_loss": 364.2021484375, "cur_kl_coeff": 2.6151031941229736e-41, "entropy": -2.106858968734741, "vf_loss": 364.1917724609375, "cur_lr": 4.999999873689376e-05, "policy_loss": 0.010371764190495014}, "num_steps_trained": 12000000, "sample_time_ms": 62471.258, "num_steps_sampled": 12000000, "load_time_ms": 1.158, "grad_time_ms": 22170.724}, "date": "2019-07-23_11-18-44", "episode_reward_min": 1141.2693333283617, "hostname": "flow-All-Series", "pid": 16317, "experiment_id": "fb63f27e9be94a929b764dd5df7bff44", "config": {"sgd_minibatch_size": 128, "custom_resources_per_worker": {}, "vf_share_layers": false, "horizon": 3000, "synchronize_filters": true, "num_gpus_per_worker": 0, "preprocessor_pref": "deepmind", "gamma": 0.999, "lr_schedule": null, "observation_filter": "MeanStdFilter", "clip_actions": false, "clip_param": 0.3, "lambda": 0.97, "log_level": "INFO", "sample_batch_size": 200, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "batch_mode": "truncate_episodes", "monitor": false, "straggler_mitigation": false, "sample_async": false, "env": "WaveAttenuationPOEnv-v0", "use_gae": true, "lr": 5e-05, "model": {"lstm_use_prev_action_reward": false, "grayscale": false, "custom_model": null, "conv_activation": "relu", "lstm_cell_size": 256, "max_seq_len": 20, "squash_to_range": false, "channel_major": false, "fcnet_activation": "tanh", "zero_mean": true, "custom_options": {}, "fcnet_hiddens": [3, 3], "dim": 84, "conv_filters": null, "free_log_std": false, "custom_preprocessor": null, "use_lstm": false, "framestack": true}, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "output": null, "optimizer": {}, "output_max_file_size": 67108864, "callbacks": {"on_episode_step": null, "on_train_result": null, "on_sample_end": null, "on_episode_start": null, "on_episode_end": null}, "clip_rewards": null, "num_gpus": 0, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "simple_optimizer": false, "compress_observations": false, "train_batch_size": 60000, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_clip_param": 10.0, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"max_accel\": 1,\n            \"max_decel\": 1,\n            \"ring_length\": [\n                220,\n                270\n            ]\n        },\n        \"clip_actions\": false,\n        \"evaluate\": false,\n        \"horizon\": 3000,\n        \"sims_per_step\": 1,\n        \"warmup_steps\": 750\n    },\n    \"env_name\": \"WaveAttenuationPOEnv\",\n    \"exp_tag\": \"STAB-RING-NATHAN\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"lanes\": 1,\n            \"length\": 260,\n            \"resolution\": 40,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"no_internal_links\": true,\n        \"osm_path\": null,\n        \"template\": null\n    },\n    \"scenario\": \"LoopScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": false,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.1,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {\n                    \"noise\": 0.2\n                }\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 21,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 2.6,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 4.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 25\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 1,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_for_driver": 1, "num_workers": 11, "num_sgd_iter": 10, "num_cpus_per_worker": 1, "kl_target": 0.02, "output_compress_columns": ["obs", "new_obs"], "tf_session_args": {"allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}}, "entropy_coeff": 0.0, "input": "sampler", "kl_coeff": 0.2}, "num_metric_batches_dropped": 0, "done": true, "time_total_s": 17011.032792806625}
